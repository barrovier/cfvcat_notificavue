"use strict";(self["webpackChunknotitgvue"]=self["webpackChunknotitgvue"]||[]).push([[139],{2749:(a,i,t)=>{t.d(i,{Z:()=>aa});t(71);var e=t(3673),o=t(2323),s=t(8880);const r={key:0,class:"text-h6"},l={key:1,class:"text-h6"},c=(0,e._)("div",{class:"row items-start"},[(0,e._)("div",{class:"col-xs-12 col-sm-12 col-md-12 q-px-xs q-pb-xs"},[(0,e._)("p",null,"Per a les vacunes i altres medicaments biològics o biotecnològics, indica el lot i el nom complet del medicament.")])],-1),n={class:"row items-start"},m={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},u={class:"row items-start"},d={class:"col-xs-12 col-sm-6 col-md-6 q-pr-xs"},p={class:"col-xs-12 col-sm-6 col-md-6 q-pl-xs"},f={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},h={key:0,class:"row items-start"},b=(0,e._)("div",{class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"}," Si us plau, prem el botó de la dreta per afegir la informació d'aquesta vacuna ",-1),v={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},D={class:"row items-start"},g={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},x={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},w={class:"row items-start"},V={class:"col-xs-12 col-sm-12 col-md-12 q-px-xs q-pb-xs"},C={class:"row items-start"},q={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},E={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},P={class:"row items-start"},k={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},_={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},y={class:"row items-start"},A={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},$={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"};function I(a,i,t,I,S,H){const U=(0,e.up)("q-space"),O=(0,e.up)("q-btn"),N=(0,e.up)("q-card-section"),W=(0,e.up)("q-separator"),T=(0,e.up)("q-input"),M=(0,e.up)("q-checkbox"),z=(0,e.up)("q-select"),R=(0,e.up)("q-icon"),F=(0,e.up)("q-card-actions"),Z=(0,e.up)("q-card"),Q=(0,e.up)("vacuna-form"),L=(0,e.up)("q-dialog"),G=(0,e.Q2)("close-popup");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(Z,{style:{width:"90vw","max-width":"90vw"}},{default:(0,e.w5)((()=>[(0,e.Wm)(N,{class:"row q-pb-none q-mb-none"},{default:(0,e.w5)((()=>[-1===this.formData.indexFarmac?((0,e.wg)(),(0,e.iD)("div",r,(0,o.zw)(a.$t("afegir"))+" fàrmac",1)):((0,e.wg)(),(0,e.iD)("div",l,(0,o.zw)(a.$t("editar"))+" fàrmac",1)),(0,e.Wm)(U),(0,e.wy)((0,e.Wm)(O,{flat:"",round:"",dense:"",icon:"close"},null,512),[[G]])])),_:1}),(0,e.Wm)(W),(0,e._)("form",{onSubmit:i[13]||(i[13]=(0,s.iM)(((...a)=>H.submitForm&&H.submitForm(...a)),["prevent"]))},[(0,e.Wm)(N,{style:{"max-height":"60vh"},class:"scroll"},{default:(0,e.w5)((()=>[c,(0,e._)("div",n,[(0,e._)("div",m,[(0,e._)("div",u,[(0,e._)("div",d,[(0,e.Wm)(T,{"hide-bottom-space":"",label:a.$t("numeroLot"),ref:"numeroLot",outlined:"",dense:"",modelValue:S.formData.numeroLot,"onUpdate:modelValue":i[0]||(i[0]=a=>S.formData.numeroLot=a),"error-message":"Indica el num. de lot o marca lot desconegut",error:S.errorLot},null,8,["label","modelValue","error"])]),(0,e._)("div",p,[(0,e.Wm)(M,{"left-label":"",modelValue:S.formData.numeroLotDesconegut,"onUpdate:modelValue":i[1]||(i[1]=a=>S.formData.numeroLotDesconegut=a),label:"o lot desconegut",error:S.errorLot},null,8,["modelValue","error"])])])]),(0,e._)("div",f,[(0,e.Wm)(z,{outlined:"",dense:"","hide-bottom-space":"",label:a.$t("vacunaSN"),ref:"vacunaSN",modelValue:S.formData.vacunaSN,"onUpdate:modelValue":i[2]||(i[2]=a=>S.formData.vacunaSN=a),options:a.options.siNo},null,8,["label","modelValue","options"])])]),3===S.formData.vacunaSN.value?((0,e.wg)(),(0,e.iD)("div",h,[b,(0,e._)("div",v,[(0,e.Wm)(O,{dense:"",color:""!==S.formData.dataVacunacio?"green-10":"negative",label:"Informació vacuna",onClick:H.editarVacuna},null,8,["color","onClick"])])])):(0,e.kq)("",!0),(0,e._)("div",D,[(0,e._)("div",g,[(0,e.Wm)(z,{outlined:"",dense:"","hide-bottom-space":"",label:a.$t("clasFarmac"),ref:"vaclasFarmaccunaSN",modelValue:S.formData.clasFarmac,"onUpdate:modelValue":i[3]||(i[3]=a=>S.formData.clasFarmac=a),options:a.options.clasFarmac},null,8,["label","modelValue","options"])]),(0,e._)("div",x,[(0,e.Wm)(z,{outlined:"",modelValue:S.formData.farmac,"onUpdate:modelValue":i[5]||(i[5]=a=>S.formData.farmac=a),"new-value-mode":"add-unique","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:S.farmacs,onFilter:H.filtraFarmac,dense:"",ref:"farmac",label:a.$t("farmac"),hint:"Escriu i selecciona una opció. Si no trobes cap coincidència, prem ENTER per validar el teu text.",rules:[a=>!!a||"És necessari especificar una opció vàlida. Si no trobes cap coincidència, prem ENTER per validar el teu text."]},(0,e.Nv)({_:2},[S.formData.farmac?{name:"append",fn:(0,e.w5)((()=>[(0,e.Wm)(R,{name:"cancel",onClick:i[4]||(i[4]=(0,s.iM)((a=>S.formData.farmac=null),["stop"])),class:"cursor-pointer"})]))}:void 0]),1032,["modelValue","options","onFilter","label","rules"])])]),(0,e._)("div",w,[(0,e._)("div",V,[(0,e.Wm)(z,{outlined:"","hide-bottom-space":"",dense:"",label:a.$t("sospitaRAM"),ref:"sospitaRAM",modelValue:S.formData.sospitaRAM,"onUpdate:modelValue":i[6]||(i[6]=a=>S.formData.sospitaRAM=a),options:a.options.sospitaRAM,rules:[a=>a.value>1||"És necessari especificar una opció vàlida"]},null,8,["label","modelValue","options","rules"])])]),(0,e._)("div",C,[(0,e._)("div",q,[(0,e.Wm)(T,{"hide-bottom-space":"",label:a.$t("dosi"),hint:"Dosi i freqüència d'administració",ref:"dosi",outlined:"",dense:"",modelValue:S.formData.dosi,"onUpdate:modelValue":i[7]||(i[7]=a=>S.formData.dosi=a)},null,8,["label","modelValue"])]),(0,e._)("div",E,[(0,e.Wm)(z,{outlined:"","hide-bottom-space":"",dense:"",label:a.$t("viaAdmin"),ref:"viaAdmin",modelValue:S.formData.viaAdmin,"onUpdate:modelValue":i[8]||(i[8]=a=>S.formData.viaAdmin=a),options:a.options.viaAdmin},null,8,["label","modelValue","options"])])]),(0,e._)("div",P,[(0,e._)("div",k,[(0,e.Wm)(T,{"hide-bottom-space":"",label:a.$t("dataInici"),ref:"dataInici",outlined:"",dense:"",modelValue:S.formData.dataInici,"onUpdate:modelValue":i[9]||(i[9]=a=>S.formData.dataInici=a),rules:[a=>/^(([0-3]\d\/)?[0-1]\d\/)?[\d]{4}$/.test(a)||"La data ha de seguir el format aaaa o bé mm/aaaa o bé dd/mm/aaaa"]},null,8,["label","modelValue","rules"])]),(0,e._)("div",_,[(0,e.Wm)(T,{"hide-bottom-space":"",label:a.$t("dataFinal"),ref:"dataFinal",outlined:"",dense:"",modelValue:S.formData.dataFinal,"onUpdate:modelValue":i[10]||(i[10]=a=>S.formData.dataFinal=a)},null,8,["label","modelValue"])])]),(0,e._)("div",y,[(0,e._)("div",A,[(0,e.Wm)(T,{"hide-bottom-space":"",label:a.$t("prescripcio"),ref:"prescripcio",outlined:"",dense:"",modelValue:S.formData.prescripcio,"onUpdate:modelValue":i[11]||(i[11]=a=>S.formData.prescripcio=a)},null,8,["label","modelValue"])]),(0,e._)("div",$,[(0,e.Wm)(z,{outlined:"","hide-bottom-space":"",dense:"",label:a.$t("mesuraPresa"),ref:"mesuraPresa",modelValue:S.formData.mesuraPresa,"onUpdate:modelValue":i[12]||(i[12]=a=>S.formData.mesuraPresa=a),options:a.options.mesuraPresa,rules:[a=>a.value>1||"És necessari especificar una opció vàlida"]},null,8,["label","modelValue","options","rules"])])])])),_:1}),(0,e.Wm)(W),(0,e.Wm)(F,{align:"right"},{default:(0,e.w5)((()=>[(0,e.Wm)(O,{type:"submit",label:a.$t("guardar"),color:"primary",ripple:{center:!0}},null,8,["label"])])),_:1})],32)])),_:1}),(0,e.Wm)(L,{persistent:"",modelValue:S.mostraVacunaForm,"onUpdate:modelValue":i[14]||(i[14]=a=>S.mostraVacunaForm=a)},{default:(0,e.w5)((()=>[(0,e.Wm)(Q,{onClose:H.actualitzarVacuna,vacuna:S.vacuna},null,8,["onClose","vacuna"])])),_:1},8,["modelValue"])],64)}var S=t(1959),H=t(741),U=t(5474),O=t(6417);const N={computed:{...(0,H.rn)("optionstore",["options"])},props:["medicament"],data(){return{farmacs:(0,S.iH)([]),vacuna:(0,S.iH)({}),mostraVacunaForm:(0,S.iH)(!1),errorLot:(0,S.iH)(!1),formData:(0,S.iH)({indexFarmac:-1,vacunaSN:{value:1,label:"-"},dataVacunacio:"",numeroLot:"",numeroLotDesconegut:!1,llocAdmin:"",vacunaNDosi:{value:1,label:"-"},notiRADosiPrev:{value:1,label:"-"},notiRADosiPrevEspecif:"",vacunaCOVIDSN:{value:1,label:"-"},vacuna:{value:1,label:"-"},vacunaEspecif:"",pacientHaPatitCOVID:{value:1,label:"-"},existeixProvaPositiva:{value:1,label:"-"},covidAsimptomatic:!1,covidSimptomatic:!1,covidSimptomaticIH:!1,pacientHaPatitCOVIDEspecif:"",grupriscMajor65Anys:!1,grupriscProfSanitari:!1,grupriscMalaltiaCardioVascular:!1,grupriscDiabetisTipus2:!1,grupriscEPOC:!1,grupriscCancer:!1,grupriscTrasplOrganSolid:!1,grupriscMalaltiaRenalCronica:!1,grupriscObsesitat:!1,grupriscHTA:!1,grupriscDiabetisTipus1:!1,grupriscAsma:!1,grupriscImmunosup:!1,grupriscEmbaras:!1,grupriscTrastNeuroPsiq:!1,grupriscMalaltiaHapatoCron:!1,grupriscTrastMetabolCongen:!1,clasFarmac:{value:1,label:"-"},farmac:"",sospitaRAM:{value:1,label:"-"},dosi:"",viaAdmin:{value:1,label:"-"},dataInici:"",dataFinal:"",prescripcio:"",mesuraPresa:{value:1,label:"-"}})}},methods:{testData(a,i){return i&&(null===a||""===a||0===a.length)||/^(([0-3]\d\/)?[0-1]\d\/)?[\d]{4}$/.test(a)},filtraFarmac(a,i,t){i((()=>{if(0===a.length||a.length<2)return this.farmacs=[],void t();const i=a.toLowerCase();let e="/farmacs?term=";2===this.formData.clasFarmac.value&&(e="/pactius?term="),U.api.get(e+i).then((a=>{0===a.data.error&&(this.farmacs=a.data.farmacs)})).catch((a=>{console.log(a),O.Z.create({message:a.message})}))}))},editarVacuna(){this.vacuna={indexFarmac:this.indexFarmac,dataVacunacio:this.formData.dataVacunacio,llocAdmin:this.formData.llocAdmin,vacunaNDosi:this.formData.vacunaNDosi,notiRADosiPrev:this.formData.notiRADosiPrev,notiRADosiPrevEspecif:this.formData.notiRADosiPrevEspecif,vacunaCOVIDSN:this.formData.vacunaCOVIDSN,vacuna:this.formData.vacuna,vacunaEspecif:this.formData.vacunaEspecif,pacientHaPatitCOVID:this.formData.pacientHaPatitCOVID,existeixProvaPositiva:this.formData.existeixProvaPositiva,covidAsimptomatic:this.formData.covidAsimptomatic,covidSimptomatic:this.formData.covidSimptomatic,covidSimptomaticIH:this.formData.covidSimptomaticIH,pacientHaPatitCOVIDEspecif:this.formData.pacientHaPatitCOVIDEspecif,grupriscMajor65Anys:this.formData.grupriscMajor65Anys,grupriscProfSanitari:this.formData.grupriscProfSanitari,grupriscMalaltiaCardioVascular:this.formData.grupriscMalaltiaCardioVascular,grupriscDiabetisTipus2:this.formData.grupriscDiabetisTipus2,grupriscEPOC:this.formData.grupriscEPOC,grupriscCancer:this.formData.grupriscCancer,grupriscTrasplOrganSolid:this.formData.grupriscTrasplOrganSolid,grupriscMalaltiaRenalCronica:this.formData.grupriscMalaltiaRenalCronica,grupriscObsesitat:this.formData.grupriscObsesitat,grupriscHTA:this.formData.grupriscHTA,grupriscDiabetisTipus1:this.formData.grupriscDiabetisTipus1,grupriscAsma:this.formData.grupriscAsma,grupriscImmunosup:this.formData.grupriscImmunosup,grupriscEmbaras:this.formData.grupriscEmbaras,grupriscTrastNeuroPsiq:this.formData.grupriscTrastNeuroPsiq,grupriscMalaltiaHapatoCron:this.formData.grupriscMalaltiaHapatoCron,grupriscTrastMetabolCongen:this.formData.grupriscTrastMetabolCongen},this.mostraVacunaForm=!0},actualitzarVacuna(a){this.formData.dataVacunacio=a.dataVacunacio,this.formData.dataInici=a.dataVacunacio,this.formData.dataFinal=a.dataVacunacio,this.formData.llocAdmin=a.llocAdmin,this.formData.vacunaNDosi=a.vacunaNDosi,this.formData.notiRADosiPrev=a.notiRADosiPrev,this.formData.notiRADosiPrevEspecif=a.notiRADosiPrevEspecif,this.formData.vacunaCOVIDSN=a.vacunaCOVIDSN,3===this.formData.vacunaCOVIDSN.value&&(this.formData.prescripcio="Inmunización frente a COVID-19",10!==a.vacuna.value&&(this.formData.farmac=a.vacuna)),this.formData.vacuna=a.vacuna,this.formData.vacunaEspecif=a.vacunaEspecif,this.formData.pacientHaPatitCOVID=a.pacientHaPatitCOVID,this.formData.existeixProvaPositiva=a.existeixProvaPositiva,this.formData.covidAsimptomatic=a.covidAsimptomatic,this.formData.covidSimptomatic=a.covidSimptomatic,this.formData.covidSimptomaticIH=a.covidSimptomaticIH,this.formData.pacientHaPatitCOVIDEspecif=a.pacientHaPatitCOVIDEspecif,this.formData.grupriscMajor65Anys=a.grupriscMajor65Anys,this.formData.grupriscProfSanitari=a.grupriscProfSanitari,this.formData.grupriscMalaltiaCardioVascular=a.grupriscMalaltiaCardioVascular,this.formData.grupriscDiabetisTipus2=a.grupriscDiabetisTipus2,this.formData.grupriscEPOC=a.grupriscEPOC,this.formData.grupriscCancer=a.grupriscCancer,this.formData.grupriscTrasplOrganSolid=a.grupriscTrasplOrganSolid,this.formData.grupriscMalaltiaRenalCronica=a.grupriscMalaltiaRenalCronica,this.formData.grupriscObsesitat=a.grupriscObsesitat,this.formData.grupriscHTA=a.grupriscHTA,this.formData.grupriscDiabetisTipus1=a.grupriscDiabetisTipus1,this.formData.grupriscAsma=a.grupriscAsma,this.formData.grupriscImmunosup=a.grupriscImmunosup,this.formData.grupriscEmbaras=a.grupriscEmbaras,this.formData.grupriscTrastNeuroPsiq=a.grupriscTrastNeuroPsiq,this.formData.grupriscMalaltiaHapatoCron=a.grupriscMalaltiaHapatoCron,this.formData.grupriscTrastMetabolCongen=a.grupriscTrastMetabolCongen,this.mostraVacunaForm=!1},submitForm(){this.$refs.dataInici.validate(),this.$refs.farmac.validate(),this.$refs.sospitaRAM.validate(),this.$refs.mesuraPresa.validate(),3!==this.formData.vacunaSN.value||""!==this.formData.dataVacunacio?(this.errorLot=""===this.formData.numeroLot&&!this.formData.numeroLotDesconegut,this.errorLot||this.$refs.dataInici.hasError||this.$refs.farmac.hasError||this.$refs.sospitaRAM.hasError||this.$refs.mesuraPresa.hasError||this.$emit("close",this.formData)):O.Z.create({color:"negative",icon:"warning",message:"Falten dades de vacuna. Prem el botó INFORMACIÓ VACUNA per introduir-les"})}},components:{"vacuna-form":t(6703).Z},watch:{"formData.numeroLot":{handler(a){a&&(this.formData.numeroLotDesconegut=!1),this.errorLot=""===this.formData.numeroLot&&!this.formData.numeroLotDesconegut}},"formData.numeroLotDesconegut":{handler(a){a&&(this.formData.numeroLot=""),this.errorLot=""===this.formData.numeroLot&&!this.formData.numeroLotDesconegut}},"formData.vacunaSN":{handler(a){3!==a.value&&(this.formData.dataVacunacio="",this.formData.llocAdmin="",this.formData.vacunaNDosi={value:1,label:"-"},this.formData.notiRADosiPrev={value:1,label:"-"},this.formData.notiRADosiPrevEspecif="",this.formData.vacunaCOVIDSN={value:1,label:"-"},this.formData.vacuna={value:1,label:"-"},this.formData.vacunaEspecif="",this.formData.pacientHaPatitCOVID={value:1,label:"-"},this.formData.existeixProvaPositiva={value:1,label:"-"},this.formData.covidAsimptomatic=!1,this.formData.covidSimptomatic=!1,this.formData.covidSimptomaticIH=!1,this.formData.pacientHaPatitCOVIDEspecif="",this.formData.grupriscMajor65Anys=!1,this.formData.grupriscProfSanitari=!1,this.formData.grupriscMalaltiaCardioVascular=!1,this.formData.grupriscDiabetisTipus2=!1,this.formData.grupriscEPOC=!1,this.formData.grupriscCancer=!1,this.formData.grupriscTrasplOrganSolid=!1,this.formData.grupriscMalaltiaRenalCronica=!1,this.formData.grupriscObsesitat=!1,this.formData.grupriscHTA=!1,this.formData.grupriscDiabetisTipus1=!1,this.formData.grupriscAsma=!1,this.formData.grupriscImmunosup=!1,this.formData.grupriscEmbaras=!1,this.formData.grupriscTrastNeuroPsiq=!1,this.formData.grupriscMalaltiaHapatoCron=!1,this.formData.grupriscTrastMetabolCongen=!1)}}},mounted(){const a=this.medicament.indexFarmac;this.formData.indexFarmac=a,-1!==a?(this.formData.vacunaSN=-1===a?{value:1,label:"-"}:this.medicament.vacunaSN,this.formData.dataVacunacio=-1===a?"":this.medicament.dataVacunacio,this.formData.numeroLot=-1===a?"":this.medicament.numeroLot,this.formData.numeroLotDesconegut=-1!==a&&this.medicament.numeroLotDesconegut,this.formData.llocAdmin=-1===a?"":this.medicament.llocAdmin,this.formData.vacunaNDosi=-1===a?{value:1,label:"-"}:this.medicament.vacunaNDosi,this.formData.notiRADosiPrev=-1===a?{value:1,label:"-"}:this.medicament.notiRADosiPrev,this.formData.notiRADosiPrevEspecif=-1===a?"":this.medicament.notiRADosiPrevEspecif,this.formData.vacunaCOVIDSN=-1===a?{value:1,label:"-"}:this.medicament.vacunaCOVIDSN,this.formData.vacuna=-1===a?{value:1,label:"-"}:this.medicament.vacuna,this.formData.vacunaEspecif=-1===a?"":this.medicament.vacunaEspecif,this.formData.pacientHaPatitCOVID=-1===a?{value:1,label:"-"}:this.medicament.pacientHaPatitCOVID,this.formData.existeixProvaPositiva=-1===a?{value:1,label:"-"}:this.medicament.existeixProvaPositiva,this.formData.covidAsimptomatic=-1!==a&&this.medicament.covidAsimptomatic,this.formData.covidSimptomatic=-1!==a&&this.medicament.covidSimptomatic,this.formData.covidSimptomaticIH=-1!==a&&this.medicament.covidSimptomaticIH,this.formData.pacientHaPatitCOVIDEspecif=-1===a?"":this.medicament.pacientHaPatitCOVIDEspecif,this.formData.grupriscMajor65Anys=-1!==a&&this.medicament.grupriscMajor65Anys,this.formData.grupriscProfSanitari=-1!==a&&this.medicament.grupriscProfSanitari,this.formData.grupriscMalaltiaCardioVascular=-1!==a&&this.medicament.grupriscMalaltiaCardioVascular,this.formData.grupriscDiabetisTipus2=-1!==a&&this.medicament.grupriscDiabetisTipus2,this.formData.grupriscEPOC=-1!==a&&this.medicament.grupriscEPOC,this.formData.grupriscCancer=-1!==a&&this.medicament.grupriscCancer,this.formData.grupriscTrasplOrganSolid=-1!==a&&this.medicament.grupriscTrasplOrganSolid,this.formData.grupriscMalaltiaRenalCronica=-1!==a&&this.medicament.grupriscMalaltiaRenalCronica,this.formData.grupriscObsesitat=-1!==a&&this.medicament.grupriscObsesitat,this.formData.grupriscHTA=-1!==a&&this.medicament.grupriscHTA,this.formData.grupriscDiabetisTipus1=-1!==a&&this.medicament.grupriscDiabetisTipus1,this.formData.grupriscAsma=-1!==a&&this.medicament.grupriscAsma,this.formData.grupriscImmunosup=-1!==a&&this.medicament.grupriscImmunosup,this.formData.grupriscEmbaras=-1!==a&&this.medicament.grupriscEmbaras,this.formData.grupriscTrastNeuroPsiq=-1!==a&&this.medicament.grupriscTrastNeuroPsiq,this.formData.grupriscMalaltiaHapatoCron=-1!==a&&this.medicament.grupriscMalaltiaHapatoCron,this.formData.grupriscTrastMetabolCongen=-1!==a&&this.medicament.grupriscTrastMetabolCongen,this.formData.clasFarmac=-1===a?{value:1,label:this.options.clasFarmac[0].label}:this.medicament.clasFarmac,this.formData.farmac=-1===a?"":this.medicament.farmac,this.formData.sospitaRAM=-1===a?{value:1,label:"-"}:this.medicament.sospitaRAM,this.formData.dosi=-1===a?"":this.medicament.dosi,this.formData.viaAdmin=-1===a?{value:1,label:"-"}:this.medicament.viaAdmin,this.formData.dataInici=-1===a?"":this.medicament.dataInici,this.formData.dataFinal=-1===a?"":this.medicament.dataFinal,this.formData.prescripcio=-1===a?"":this.medicament.prescripcio,this.formData.mesuraPresa=-1===a?{value:1,label:"-"}:this.medicament.mesuraPresa):this.formData.clasFarmac={value:1,label:this.options.clasFarmac[0].label}}};var W=t(4260),T=t(151),M=t(5589),z=t(2025),R=t(8240),F=t(5869),Z=t(4842),Q=t(5735),L=t(1143),G=t(4554),j=t(9367),B=t(5926),J=t(677),Y=t(7518),K=t.n(Y);const X=(0,W.Z)(N,[["render",I]]),aa=X;K()(N,"components",{QCard:T.Z,QCardSection:M.Z,QSpace:z.Z,QBtn:R.Z,QSeparator:F.Z,QInput:Z.Z,QCheckbox:Q.Z,QSelect:L.Z,QIcon:G.Z,QCardActions:j.Z,QDialog:B.Z}),K()(N,"directives",{ClosePopup:J.Z})},9118:(a,i,t)=>{t.d(i,{Z:()=>I});var e=t(3673),o=t(8880);const s={class:"row full-width items-start"},r={class:"col-xs-12 col-sm-12 col-md-12 q-pa-xs q-pb-xs"},l={key:0,class:"col-xs-12 col-sm-12 col-md-12 q-pa-xs"},c={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},n={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},m={class:"col-xs-12 col-sm-12 col-md-12 q-pa-xs q-pb-md"},u={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},d={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},p={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},f={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},h={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},b={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"};function v(a,i,t,v,D,g){const x=(0,e.up)("q-select"),w=(0,e.up)("q-input");return(0,e.wg)(),(0,e.iD)("div",s,[(0,e._)("div",r,[(0,e.Wm)(x,{outlined:"",modelValue:v.mynotificador.professio,"onUpdate:modelValue":i[0]||(i[0]=a=>v.mynotificador.professio=a),label:"Selecciona la teva professió",options:a.options.professio,dense:"","options-dense":"","bottom-slots":"","error-message":"És necessari seleccionar una opció",error:v.errorProfessio},null,8,["modelValue","options","error"])]),v.mynotificador.professio&&8===v.mynotificador.professio.value?((0,e.wg)(),(0,e.iD)("div",l,[(0,e.Wm)(w,{outlined:"",dense:"",modelValue:v.mynotificador.altraProfessio,"onUpdate:modelValue":i[1]||(i[1]=a=>v.mynotificador.altraProfessio=a),label:"Professió del notificador",hint:"Descriu la teva professió"},null,8,["modelValue"])])):(0,e.kq)("",!0),(0,e._)("div",c,[(0,e.Wm)(w,{outlined:"",dense:"",modelValue:v.mynotificador.nomEmisor,"onUpdate:modelValue":i[2]||(i[2]=a=>v.mynotificador.nomEmisor=a),label:"Nom del notificador",hint:"Escriu el teu nom","bottom-slots":"","error-message":"El camp no es pot deixar buit",error:v.errorNomEmisor},null,8,["modelValue","error"])]),(0,e._)("div",n,[(0,e.Wm)(w,{outlined:"",dense:"",modelValue:v.mynotificador.cognomsEmisor,"onUpdate:modelValue":i[3]||(i[3]=a=>v.mynotificador.cognomsEmisor=a),label:"Cognoms del notificador",hint:"Escriu els teus cognoms","bottom-slots":"","error-message":"El camp no es pot deixar buit",error:v.errorCognomsEmisor},null,8,["modelValue","error"])]),(0,e._)("div",m,[(0,e.Wm)(w,{outlined:"",dense:"",modelValue:v.mynotificador.adreca,"onUpdate:modelValue":i[4]||(i[4]=a=>v.mynotificador.adreca=a),label:"Adreça del notificador",hint:"Escriu la teva adreça"},null,8,["modelValue"])]),(0,e._)("div",u,[(0,e.Wm)(w,{outlined:"",dense:"",modelValue:v.mynotificador.nomPoblacio,"onUpdate:modelValue":i[5]||(i[5]=a=>v.mynotificador.nomPoblacio=a),label:"Població del notificador",hint:"Escriu la teva població"},null,8,["modelValue"])]),(0,e._)("div",d,[(0,e.Wm)(x,{outlined:"",modelValue:v.mynotificador.provincia,"onUpdate:modelValue":i[6]||(i[6]=a=>v.mynotificador.provincia=a),label:"Selecciona la teva provincia",options:a.options.provincia,dense:"","options-dense":""},null,8,["modelValue","options"])]),(0,e._)("div",p,[(0,e.Wm)(x,{outlined:"",modelValue:v.mynotificador.centreTreball,"onUpdate:modelValue":i[7]||(i[7]=a=>v.mynotificador.centreTreball=a),"use-input":"","hide-selected":"","fill-input":"","new-value-mode":"add-unique","input-debounce":"0",clearable:"",options:v.centres,onFilter:g.filtraCentre,dense:"",label:"Centre de treball del notificador",hint:"Escriu i selecciona una opció o prem ENTER per validar la teva entrada","bottom-slots":"","error-message":"És necessari seleccionar una opció",error:v.errorCentreTreball},null,8,["modelValue","options","onFilter","error"])]),(0,e._)("div",f,[(0,e.Wm)(w,{outlined:"",dense:"",modelValue:v.mynotificador.telefon,"onUpdate:modelValue":i[8]||(i[8]=a=>v.mynotificador.telefon=a),type:"tel",label:"Telèfon de contacte del notificador",hint:"Escriu el teu telèfon de contacte"},null,8,["modelValue"])]),(0,e._)("div",h,[(0,e.Wm)(w,{outlined:"",dense:"",modelValue:v.mynotificador.email,"onUpdate:modelValue":i[9]||(i[9]=a=>v.mynotificador.email=a),type:"email",label:"Adreça email del notificador",hint:"Escriu la teva adreça Email","bottom-slots":"","error-message":"L'adreça no té un format correcte",error:v.errorEmail},null,8,["modelValue","error"])]),(0,e._)("div",b,[(0,e.Wm)(w,{outlined:"",dense:"",modelValue:v.verificaEmail,"onUpdate:modelValue":i[10]||(i[10]=a=>v.verificaEmail=a),type:"email",label:"Escriu un altre cop l'adreça email del notificador",hint:"Confirmació adreça Email",onPaste:i[11]||(i[11]=(0,o.iM)((()=>{}),["prevent"])),"bottom-slots":"","error-message":"L'adreça no coincideix",error:v.errorVerificaEmail},null,8,["modelValue","error"])])])}var D=t(1959),g=t(741),x=t(5474),w=t(6417);const V=(0,D.iH)(""),C=(0,D.iH)([]),q=(0,D.iH)({professio:{value:1,label:"-"},altraProfessio:"",nomEmisor:"",cognomsEmisor:"",adreca:"",nomPoblacio:"",provincia:{value:1,label:"-"},centreTreball:"",telefon:"",email:""}),E={computed:{...(0,g.rn)("optionstore",["options"])},props:["notificador"],methods:{filtraCentre(a,i,t){i((()=>{if(0===a.length||a.length<2)return this.centres=[],void t();const i=a.toLowerCase();x.api.get("/centres?term="+i).then((a=>{0===a.data.error&&(this.centres=a.data.centres)})).catch((a=>{console.log(a),w.Z.create({message:a.message})}))}))},validaProfessio(a){1===a.value?this.errorProfessio=!0:(this.errorProfessio=!1,8!==a.value&&(this.mynotificador.altraProfessio=""))},validaNomEmisor(a){const i=null===this.mynotificador.nomEmisor||""===this.mynotificador.nomEmisor;this.errorNomEmisor=i},validaCognomsEmisor(a){const i=null===this.mynotificador.cognomsEmisor||""===this.mynotificador.cognomsEmisor;this.errorCognomsEmisor=i},validaCentreTreball(a){const i="object"===typeof a&&null!==a||"string"===typeof a&&""!==a;this.errorCentreTreball=!i},validaEmail(a,i){i?this.errorVerificaEmail=a!==this.mynotificador.email:this.errorEmail=!a||a.length<6||!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},validaNotificador(){return this.validaProfessio(this.mynotificador.professio),this.validaNomEmisor(this.mynotificador.nomEmisor),this.validaCognomsEmisor(this.mynotificador.cognomsEmisor),this.validaCentreTreball(this.mynotificador.centreTreball),this.validaEmail(this.mynotificador.email,!1),this.validaEmail(this.verificaEmail,!0),this.errorProfessio||this.errorNomEmisor||this.errorCognomsEmisor||this.errorCentreTreball||this.errorEmail||this.errorVerificaEmail}},setup(){return{centres:C,verificaEmail:V,mynotificador:q,loading:(0,D.iH)(!0),errorProfessio:(0,D.iH)(!1),errorNomEmisor:(0,D.iH)(!1),errorCognomsEmisor:(0,D.iH)(!1),errorCentreTreball:(0,D.iH)(!1),errorEmail:(0,D.iH)(!1),errorVerificaEmail:(0,D.iH)(!1)}},mounted(){this.mynotificador=this.notificador},watch:{"mynotificador.professio":{handler(a){this.loading?this.loading=!1:(this.validaProfessio(a),this.$emit("input",a))}},"mynotificador.nomEmisor":{handler(a){this.validaNomEmisor(a),this.$emit("input",a)}},"mynotificador.cognomsEmisor":{handler(a){this.validaCognomsEmisor(a),this.$emit("input",a)}},"mynotificador.centreTreball":{handler(a){this.validaCentreTreball(a),this.$emit("input",a)}},"mynotificador.email":{handler(a){this.validaEmail(a,!1),this.$emit("input",a)}},verificaEmail:{handler(a){this.validaEmail(a,!0)}}}};var P=t(4260),k=t(1143),_=t(4842),y=t(7518),A=t.n(y);const $=(0,P.Z)(E,[["render",v]]),I=$;A()(E,"components",{QSelect:k.Z,QInput:_.Z})},646:(a,i,t)=>{t.d(i,{Z:()=>A});t(71);var e=t(3673),o=t(2323),s=t(8880);const r={key:0,class:"text-h6"},l={key:1,class:"text-h6"},c={class:"q-mb-xs q-pl-xs q-pr-xs"},n={class:"q-mb-xs q-pl-xs q-pr-xs"},m={class:"row q-mb-xs"},u={class:"col q-pl-xs q-pr-xs"},d={class:"col q-pl-xs q-pr-xs"},p={class:"q-mb-xs q-pl-xs q-pr-xs"};function f(a,i,t,f,h,b){const v=(0,e.up)("q-space"),D=(0,e.up)("q-btn"),g=(0,e.up)("q-card-section"),x=(0,e.up)("q-input"),w=(0,e.up)("q-select"),V=(0,e.up)("q-card-actions"),C=(0,e.up)("q-card"),q=(0,e.Q2)("close-popup");return(0,e.wg)(),(0,e.j4)(C,{style:{width:"90vw","max-width":"90vw"}},{default:(0,e.w5)((()=>[(0,e.Wm)(g,{class:"row q-pb-none q-mb-none"},{default:(0,e.w5)((()=>[-1===this.formData.indexReaccio?((0,e.wg)(),(0,e.iD)("div",r,(0,o.zw)(a.$t("headAfegir"))+" "+(0,o.zw)(a.$t("lblReaccio")),1)):((0,e.wg)(),(0,e.iD)("div",l,(0,o.zw)(a.$t("headEditar"))+" "+(0,o.zw)(a.$t("lblReaccio")),1)),(0,e.Wm)(v),(0,e.wy)((0,e.Wm)(D,{flat:"",round:"",dense:"",icon:"close"},null,512),[[q]])])),_:1}),(0,e._)("form",{onSubmit:i[4]||(i[4]=(0,s.iM)(((...a)=>b.submitForm&&b.submitForm(...a)),["prevent"]))},[(0,e.Wm)(g,null,{default:(0,e.w5)((()=>[(0,e._)("div",c,[(0,e._)("p",null,(0,o.zw)(a.$t("subDadesReaccions")),1)]),(0,e._)("div",n,[(0,e.Wm)(x,{label:a.$t("lblReaccioDesc"),ref:"reaccio",outlined:"",dense:"",modelValue:h.formData.reaccio,"onUpdate:modelValue":i[0]||(i[0]=a=>h.formData.reaccio=a),rules:[i=>!!i||a.$t("errorDescripcioReaccio")]},null,8,["label","modelValue","rules"])]),(0,e._)("div",m,[(0,e._)("div",u,[(0,e.Wm)(x,{label:a.$t("lblDataInici"),ref:"dataInici",outlined:"",dense:"",modelValue:h.formData.dataInici,"onUpdate:modelValue":i[1]||(i[1]=a=>h.formData.dataInici=a),rules:[i=>b.testData(i,!1)||a.$t("errorData")]},null,8,["label","modelValue","rules"])]),(0,e._)("div",d,[(0,e.Wm)(x,{label:a.$t("lblDataFinal"),ref:"dataFinal",outlined:"",dense:"",modelValue:h.formData.dataFinal,"onUpdate:modelValue":i[2]||(i[2]=a=>h.formData.dataFinal=a),rules:[i=>b.testData(i,!0)||a.$t("errorData")]},null,8,["label","modelValue","rules"])])]),(0,e._)("div",p,[(0,e.Wm)(w,{outlined:"",dense:"",label:a.$t("lblDesen"),ref:"desen",modelValue:h.formData.desen,"onUpdate:modelValue":i[3]||(i[3]=a=>h.formData.desen=a),options:a.options.desen,rules:[i=>i.value>1||a.$t("errorOpcioInvalida")]},null,8,["label","modelValue","options","rules"])])])),_:1}),(0,e.Wm)(V,{align:"right"},{default:(0,e.w5)((()=>[(0,e.Wm)(D,{type:"submit",label:a.$t("btnGuardar"),color:"primary",ripple:{center:!0}},null,8,["label"])])),_:1})],32)])),_:1})}var h=t(1959),b=t(741);const v={computed:{...(0,b.rn)("optionstore",["options"])},props:["reaccio"],data(){return{formData:(0,h.iH)({indexReaccio:-1,reaccio:"",dataInici:"",dataFinal:"",desen:{value:1,label:"-"}})}},methods:{testData(a,i){return i&&(null===a||""===a||0===a.length)||/^(([0-3]\d\/)?[0-1]\d\/)?[\d]{4}$/.test(a)},submitForm(){this.$refs.reaccio.validate(),this.$refs.dataInici.validate(),this.$refs.dataFinal.validate(),this.$refs.desen.validate(),this.$refs.reaccio.hasError||this.$refs.desen.hasError||this.$refs.dataInici.hasError||this.$refs.dataFinal.hasError||this.$emit("close",this.formData)}},mounted(){const a=this.reaccio.indexReaccio;this.formData.indexReaccio=a,-1!==a&&(this.formData.reaccio=-1===a?"":this.reaccio.reaccio,this.formData.dataInici=-1===a?"":this.reaccio.dataInici,this.formData.dataFinal=-1===a?"":this.reaccio.dataFinal,this.formData.desen=-1===a?{value:1,label:"-"}:this.reaccio.desen)}};var D=t(4260),g=t(151),x=t(5589),w=t(2025),V=t(8240),C=t(4842),q=t(1143),E=t(9367),P=t(677),k=t(7518),_=t.n(k);const y=(0,D.Z)(v,[["render",f]]),A=y;_()(v,"components",{QCard:g.Z,QCardSection:x.Z,QSpace:w.Z,QBtn:V.Z,QInput:C.Z,QSelect:q.Z,QCardActions:E.Z}),_()(v,"directives",{ClosePopup:P.Z})},6703:(a,i,t)=>{t.d(i,{Z:()=>xa});t(71);var e=t(3673),o=t(2323),s=t(8880);const r={class:"text-h6"},l={class:"row items-start"},c={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs"},n={class:"col-xs-12 col-sm-8 col-md-8 q-px-xs q-pb-xs"},m={class:"row items-start"},u={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs"},d={class:"col-xs-12 col-sm-8 col-md-8 q-px-xs q-pb-xs"},p={key:0,class:"q-pa-none p-ma-none"},f={key:0,class:"row items-start"},h={class:"col-xs-12 col-sm-12 col-md-12 q-px-xs q-pb-xs"},b={class:"row items-start"},v={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs"},D={key:0,class:"col-xs-12 col-sm-8 col-md-8 q-px-xs q-pb-xs"},g={key:1,class:"row items-start"},x={class:"col-xs-12 col-sm-12 col-md-12 q-px-xs q-pb-xs"},w={key:2,class:"row items-start"},V={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},C={class:"col-xs-12 col-sm-6 col-md-6 q-px-xs q-pb-xs"},q={key:0,class:"q-pa-none p-ma-none"},E={key:3,class:"row items-start"},P={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},k={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},_={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},y={key:4,class:"row items-start"},A={class:"col-xs-12 col-sm-12 col-md-12 q-px-xs q-pb-xs"},$={key:5,class:"row items-start"},I={class:"col-xs-12 col-sm-12 col-md-12 q-px-xs q-pb-xs text-caption"},S={key:6,class:"row items-start"},H={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},U={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},O={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},N={key:7,class:"row items-start"},W={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},T={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},M={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},z={key:8,class:"row items-start"},R={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},F={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},Z={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},Q={key:9,class:"row items-start"},L={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},G={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},j={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},B={key:10,class:"row items-start"},J={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},Y={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},K={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},X={key:11,class:"row items-start"},aa={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"},ia={class:"col-xs-12 col-sm-4 col-md-4 q-px-xs q-pb-xs text-caption"};function ta(a,i,t,ta,ea,oa){const sa=(0,e.up)("q-space"),ra=(0,e.up)("q-btn"),la=(0,e.up)("q-card-section"),ca=(0,e.up)("q-separator"),na=(0,e.up)("q-input"),ma=(0,e.up)("q-select"),ua=(0,e.up)("q-checkbox"),da=(0,e.up)("q-card-actions"),pa=(0,e.up)("q-card"),fa=(0,e.Q2)("close-popup");return(0,e.wg)(),(0,e.j4)(pa,{style:{width:"80vw","max-width":"80vw"}},{default:(0,e.w5)((()=>[(0,e.Wm)(la,{class:"row q-pb-none q-mb-none"},{default:(0,e.w5)((()=>[(0,e._)("div",r,(0,o.zw)(a.$t("headEditar"))+" "+(0,o.zw)(a.$t("lblVacuna")),1),(0,e.Wm)(sa),(0,e.wy)((0,e.Wm)(ra,{flat:"",round:"",dense:"",icon:"close"},null,512),[[fa]])])),_:1}),(0,e.Wm)(ca),(0,e._)("form",{onSubmit:i[31]||(i[31]=(0,s.iM)(((...a)=>oa.submitForm&&oa.submitForm(...a)),["prevent"]))},[(0,e.Wm)(la,{style:{"max-height":"50vh"},class:"scroll"},{default:(0,e.w5)((()=>[(0,e._)("div",l,[(0,e._)("div",c,[(0,e.Wm)(na,{"hide-bottom-space":"",label:a.$t("lblDataVacunacio"),ref:"dataVacunacio",outlined:"",dense:"",modelValue:ea.subformData.dataVacunacio,"onUpdate:modelValue":i[0]||(i[0]=a=>ea.subformData.dataVacunacio=a),rules:[i=>oa.testData(i,!1)||a.$t("errorData")]},null,8,["label","modelValue","rules"])]),(0,e._)("div",n,[(0,e.Wm)(na,{"hide-bottom-space":"",label:a.$t("lblLlocAdmin"),ref:"llocAdmin",outlined:"",dense:"",modelValue:ea.subformData.llocAdmin,"onUpdate:modelValue":i[1]||(i[1]=a=>ea.subformData.llocAdmin=a)},null,8,["label","modelValue"])])]),(0,e._)("div",m,[(0,e._)("div",u,[(0,e.Wm)(ma,{outlined:"","hide-bottom-space":"",dense:"",label:a.$t("lblVacunaNDosi"),ref:"vacunaNDosi",modelValue:ea.subformData.vacunaNDosi,"onUpdate:modelValue":i[2]||(i[2]=a=>ea.subformData.vacunaNDosi=a),options:a.options.vacunaNDosi},null,8,["label","modelValue","options"])]),(0,e._)("div",d,[ea.subformData.vacunaNDosi.value>2?((0,e.wg)(),(0,e.iD)("div",p,[(0,e.Wm)(ma,{outlined:"","hide-bottom-space":"",dense:"",label:a.$t("lblNotiRADosiPrev"),ref:"notiRADosiPrev",modelValue:ea.subformData.notiRADosiPrev,"onUpdate:modelValue":i[3]||(i[3]=a=>ea.subformData.notiRADosiPrev=a),options:a.options.siNo},null,8,["label","modelValue","options"])])):(0,e.kq)("",!0)])]),3===ea.subformData.notiRADosiPrev.value?((0,e.wg)(),(0,e.iD)("div",f,[(0,e._)("div",h,[(0,e.Wm)(na,{"hide-bottom-space":"",label:a.$t("lblNotiRADosiPrevEspecif"),ref:"notiRADosiPrevEspecif",outlined:"",dense:"",modelValue:ea.subformData.notiRADosiPrevEspecif,"onUpdate:modelValue":i[4]||(i[4]=a=>ea.subformData.notiRADosiPrevEspecif=a)},null,8,["label","modelValue"])])])):(0,e.kq)("",!0),(0,e._)("div",b,[(0,e._)("div",v,[(0,e.Wm)(ma,{outlined:"","hide-bottom-space":"",dense:"",label:a.$t("lblVacunaCOVIDSN"),ref:"vacunaCOVIDSN",modelValue:ea.subformData.vacunaCOVIDSN,"onUpdate:modelValue":i[5]||(i[5]=a=>ea.subformData.vacunaCOVIDSN=a),options:a.options.siNo},null,8,["label","modelValue","options"])]),3===ea.subformData.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("div",D,[(0,e.Wm)(ma,{outlined:"","hide-bottom-space":"",dense:"",label:a.$t("lblVacunaNom"),ref:"vacuna",modelValue:ea.subformData.vacuna,"onUpdate:modelValue":i[6]||(i[6]=a=>ea.subformData.vacuna=a),options:a.options.vacuna,rules:[i=>i.value>1||a.$t("errorOpcioInvalida")]},null,8,["label","modelValue","options","rules"])])):(0,e.kq)("",!0)]),10===ea.subformData.vacuna.value?((0,e.wg)(),(0,e.iD)("div",g,[(0,e._)("div",x,[(0,e.Wm)(na,{"hide-bottom-space":"",label:a.$t("lblVacunaEspecif"),ref:"lblVacunaEspecif",outlined:"",dense:"",modelValue:ea.subformData.vacunaEspecif,"onUpdate:modelValue":i[7]||(i[7]=a=>ea.subformData.vacunaEspecif=a)},null,8,["label","modelValue"])])])):(0,e.kq)("",!0),3===ea.subformData.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("div",w,[(0,e._)("div",V,[(0,e.Wm)(ma,{outlined:"","hide-bottom-space":"",dense:"",label:a.$t("lblPacientHaPatitCOVID"),ref:"pacientHaPatitCOVID",modelValue:ea.subformData.pacientHaPatitCOVID,"onUpdate:modelValue":i[8]||(i[8]=a=>ea.subformData.pacientHaPatitCOVID=a),options:a.options.siNo},null,8,["label","modelValue","options"])]),(0,e._)("div",C,[3===ea.subformData.pacientHaPatitCOVID.value?((0,e.wg)(),(0,e.iD)("div",q,[(0,e.Wm)(ma,{outlined:"","hide-bottom-space":"",dense:"",label:a.$t("lblExisteixProvaPositiva"),ref:"existeixProvaPositiva",modelValue:ea.subformData.existeixProvaPositiva,"onUpdate:modelValue":i[9]||(i[9]=a=>ea.subformData.existeixProvaPositiva=a),options:a.options.siNo},null,8,["label","modelValue","options"])])):(0,e.kq)("",!0)])])):(0,e.kq)("",!0),3===ea.subformData.pacientHaPatitCOVID.value?((0,e.wg)(),(0,e.iD)("div",E,[(0,e._)("div",P,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.covidAsimptomatic,"onUpdate:modelValue":i[10]||(i[10]=a=>ea.subformData.covidAsimptomatic=a),label:a.$t("lblCovidAsimptomatic")},null,8,["modelValue","label"])]),(0,e._)("div",k,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.covidSimptomatic,"onUpdate:modelValue":i[11]||(i[11]=a=>ea.subformData.covidSimptomatic=a),label:a.$t("lblCovidSimptomatic")},null,8,["modelValue","label"])]),(0,e._)("div",_,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.covidSimptomaticIH,"onUpdate:modelValue":i[12]||(i[12]=a=>ea.subformData.covidSimptomaticIH=a),label:a.$t("lblCovidSimptomaticIH")},null,8,["modelValue","label"])])])):(0,e.kq)("",!0),3===ea.subformData.pacientHaPatitCOVID.value?((0,e.wg)(),(0,e.iD)("div",y,[(0,e._)("div",A,[(0,e.Wm)(na,{"hide-bottom-space":"",label:a.$t("lblPacientHaPatitCOVIDEspecif"),ref:"pacientHaPatitCOVIDEspecif",outlined:"",dense:"",modelValue:ea.subformData.pacientHaPatitCOVIDEspecif,"onUpdate:modelValue":i[13]||(i[13]=a=>ea.subformData.pacientHaPatitCOVIDEspecif=a)},null,8,["label","modelValue"])])])):(0,e.kq)("",!0),3===ea.subformData.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("div",$,[(0,e._)("div",I,[(0,e._)("strong",null,(0,o.zw)(a.$t("headGrupsRisc")),1)])])):(0,e.kq)("",!0),3===ea.subformData.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("div",S,[(0,e._)("div",H,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscMajor65Anys,"onUpdate:modelValue":i[14]||(i[14]=a=>ea.subformData.grupriscMajor65Anys=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscMajor65Anys")),1)]),(0,e._)("div",U,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscProfSanitari,"onUpdate:modelValue":i[15]||(i[15]=a=>ea.subformData.grupriscProfSanitari=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscProfSanitari")),1)]),(0,e._)("div",O,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscMalaltiaCardioVascular,"onUpdate:modelValue":i[16]||(i[16]=a=>ea.subformData.grupriscMalaltiaCardioVascular=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscMalaltiaCardioVascular")),1)])])):(0,e.kq)("",!0),3===ea.subformData.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("div",N,[(0,e._)("div",W,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscDiabetisTipus2,"onUpdate:modelValue":i[17]||(i[17]=a=>ea.subformData.grupriscDiabetisTipus2=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscDiabetisTipus2")),1)]),(0,e._)("div",T,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscEPOC,"onUpdate:modelValue":i[18]||(i[18]=a=>ea.subformData.grupriscEPOC=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscEPOC")),1)]),(0,e._)("div",M,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscCancer,"onUpdate:modelValue":i[19]||(i[19]=a=>ea.subformData.grupriscCancer=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscCancer")),1)])])):(0,e.kq)("",!0),3===ea.subformData.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("div",z,[(0,e._)("div",R,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscTrasplOrganSolid,"onUpdate:modelValue":i[20]||(i[20]=a=>ea.subformData.grupriscTrasplOrganSolid=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscTrasplOrganSolid")),1)]),(0,e._)("div",F,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscMalaltiaRenalCronica,"onUpdate:modelValue":i[21]||(i[21]=a=>ea.subformData.grupriscMalaltiaRenalCronica=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscMalaltiaRenalCronica")),1)]),(0,e._)("div",Z,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscObsesitat,"onUpdate:modelValue":i[22]||(i[22]=a=>ea.subformData.grupriscObsesitat=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscObsesitat")),1)])])):(0,e.kq)("",!0),3===ea.subformData.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("div",Q,[(0,e._)("div",L,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscHTA,"onUpdate:modelValue":i[23]||(i[23]=a=>ea.subformData.grupriscHTA=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscHTA")),1)]),(0,e._)("div",G,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscDiabetisTipus1,"onUpdate:modelValue":i[24]||(i[24]=a=>ea.subformData.grupriscDiabetisTipus1=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscDiabetisTipus1")),1)]),(0,e._)("div",j,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscAsma,"onUpdate:modelValue":i[25]||(i[25]=a=>ea.subformData.grupriscAsma=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscAsma")),1)])])):(0,e.kq)("",!0),3===ea.subformData.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("div",B,[(0,e._)("div",J,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscImmunosup,"onUpdate:modelValue":i[26]||(i[26]=a=>ea.subformData.grupriscImmunosup=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscImmunosup")),1)]),(0,e._)("div",Y,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscEmbaras,"onUpdate:modelValue":i[27]||(i[27]=a=>ea.subformData.grupriscEmbaras=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscEmbaras")),1)]),(0,e._)("div",K,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscTrastNeuroPsiq,"onUpdate:modelValue":i[28]||(i[28]=a=>ea.subformData.grupriscTrastNeuroPsiq=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscTrastNeuroPsiq")),1)])])):(0,e.kq)("",!0),3===ea.subformData.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("div",X,[(0,e._)("div",aa,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscMalaltiaHapatoCron,"onUpdate:modelValue":i[29]||(i[29]=a=>ea.subformData.grupriscMalaltiaHapatoCron=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscMalaltiaHapatoCron")),1)]),(0,e._)("div",ia,[(0,e.Wm)(ua,{"hide-bottom-space":"",dense:"",modelValue:ea.subformData.grupriscTrastMetabolCongen,"onUpdate:modelValue":i[30]||(i[30]=a=>ea.subformData.grupriscTrastMetabolCongen=a)},null,8,["modelValue"]),(0,e.Uk)(" "+(0,o.zw)(a.$t("lblGrupriscTrastMetabolCongen")),1)])])):(0,e.kq)("",!0)])),_:1}),(0,e.Wm)(ca),(0,e.Wm)(da,{align:"right"},{default:(0,e.w5)((()=>[(0,e.Wm)(ra,{type:"submit",label:a.$t("btnGuardar"),color:"primary",ripple:{center:!0}},null,8,["label"])])),_:1})],32)])),_:1})}var ea=t(1959),oa=t(741);const sa={computed:{...(0,oa.rn)("optionstore",["options"])},props:["vacuna"],data(){return{subformData:(0,ea.iH)({indexFarmac:-1,dataVacunacio:"",llocAdmin:"",vacunaNDosi:{value:1,label:"-"},notiRADosiPrev:{value:1,label:"-"},notiRADosiPrevEspecif:"",vacunaCOVIDSN:{value:1,label:"-"},vacuna:{value:1,label:"-"},vacunaEspecif:"",pacientHaPatitCOVID:{value:1,label:"-"},existeixProvaPositiva:{value:1,label:"-"},covidAsimptomatic:!1,covidSimptomatic:!1,covidSimptomaticIH:!1,pacientHaPatitCOVIDEspecif:"",grupriscMajor65Anys:!1,grupriscProfSanitari:!1,grupriscMalaltiaCardioVascular:!1,grupriscDiabetisTipus2:!1,grupriscEPOC:!1,grupriscCancer:!1,grupriscTrasplOrganSolid:!1,grupriscMalaltiaRenalCronica:!1,grupriscObsesitat:!1,grupriscHTA:!1,grupriscDiabetisTipus1:!1,grupriscAsma:!1,grupriscImmunosup:!1,grupriscEmbaras:!1,grupriscTrastNeuroPsiq:!1,grupriscMalaltiaHapatoCron:!1,grupriscTrastMetabolCongen:!1})}},methods:{testData(a,i){return i&&(null===a||""===a||0===a.length)||/^(([0-3]\d\/)?[0-1]\d\/)?[\d]{4}$/.test(a)},submitForm(){this.$refs.dataVacunacio.validate(),3===this.subformData.vacunaCOVIDSN.value?(this.$refs.vacuna.validate(),this.$refs.dataVacunacio.hasError||this.$refs.vacuna.hasError||this.$emit("close",this.subformData)):this.$refs.dataVacunacio.hasError||this.$emit("close",this.subformData)}},watch:{"subformData.vacunaNDosi":{handler(a){a.value<3&&(this.subformData.notiRADosiPrev={value:1,label:"-"},this.subformData.notiRADosiPrevEspecif=null)}},"subformData.notiRADosiPrev":{handler(a){3!==a.value&&(this.subformData.notiRADosiPrevEspecif=null)}},"subformData.vacunaCOVIDSN":{handler(a){3!==a.value&&(this.subformData.vacuna={value:1,label:"-"},this.subformData.pacientHaPatitCOVID={value:1,label:"-"},this.subformData.grupriscMajor65Anys=!1,this.subformData.grupriscProfSanitari=!1,this.subformData.grupriscMalaltiaCardioVascular=!1,this.subformData.grupriscDiabetisTipus2=!1,this.subformData.grupriscEPOC=!1,this.subformData.grupriscCancer=!1,this.subformData.grupriscTrasplOrganSolid=!1,this.subformData.grupriscMalaltiaRenalCronica=!1,this.subformData.grupriscObsesitat=!1,this.subformData.grupriscHTA=!1,this.subformData.grupriscDiabetisTipus1=!1,this.subformData.grupriscAsma=!1,this.subformData.grupriscImmunosup=!1,this.subformData.grupriscEmbaras=!1,this.subformData.grupriscTrastNeuroPsiq=!1,this.subformData.grupriscMalaltiaHapatoCron=!1,this.subformData.grupriscTrastMetabolCongen=!1)}},"subformData.vacuna":{handler(a){10!==a.value&&(this.subformData.vacunaEspecif=null)}},"subformData.pacientHaPatitCOVID":{handler(a){3!==a.value&&(this.subformData.existeixProvaPositiva={value:1,label:"-"},this.subformData.covidAsimptomatic=!1,this.subformData.covidSimptomatic=!1,this.subformData.covidSimptomaticIH=!1,this.subformData.pacientHaPatitCOVIDEspecif=null)}},"subformData.covidAsimptomatic":{handler(a){a&&(this.subformData.covidSimptomatic=!1,this.subformData.covidSimptomaticIH=!1)}},"subformData.covidSimptomatic":{handler(a){a&&(this.subformData.covidAsimptomatic=!1,this.subformData.covidSimptomaticIH=!1)}},"subformData.covidSimptomaticIH":{handler(a){a&&(this.subformData.covidSimptomatic=!1,this.subformData.covidAsimptomatic=!1)}}},created(){const a=this.vacuna.indexFarmac;this.subformData.indexFarmac=a,-1!==a&&(this.subformData.dataVacunacio=-1===a?"":this.vacuna.dataVacunacio,this.subformData.llocAdmin=-1===a?"":this.vacuna.llocAdmin,this.subformData.vacunaNDosi=-1===a?{value:1,label:"-"}:this.vacuna.vacunaNDosi,this.subformData.notiRADosiPrev=-1===a?{value:1,label:"-"}:this.vacuna.notiRADosiPrev,this.subformData.notiRADosiPrevEspecif=-1===a?"":this.vacuna.notiRADosiPrevEspecif,this.subformData.vacunaCOVIDSN=-1===a?{value:1,label:"-"}:this.vacuna.vacunaCOVIDSN,this.subformData.vacuna=-1===a?{value:1,label:"-"}:this.vacuna.vacuna,this.subformData.vacunaEspecif=-1===a?"":this.vacuna.vacunaEspecif,this.subformData.pacientHaPatitCOVID=-1===a?"":this.vacuna.pacientHaPatitCOVID,this.subformData.existeixProvaPositiva=-1===a?"":this.vacuna.existeixProvaPositiva,this.subformData.covidAsimptomatic=-1!==a&&this.vacuna.covidAsimptomatic,this.subformData.covidSimptomatic=-1!==a&&this.vacuna.covidSimptomatic,this.subformData.covidSimptomaticIH=-1!==a&&this.vacuna.covidSimptomaticIH,this.subformData.pacientHaPatitCOVIDEspecif=-1===a?"":this.vacuna.pacientHaPatitCOVIDEspecif,this.subformData.grupriscMajor65Anys=-1!==a&&this.vacuna.grupriscMajor65Anys,this.subformData.grupriscProfSanitari=-1!==a&&this.vacuna.grupriscProfSanitari,this.subformData.grupriscMalaltiaCardioVascular=-1!==a&&this.vacuna.grupriscMalaltiaCardioVascular,this.subformData.grupriscDiabetisTipus2=-1!==a&&this.vacuna.grupriscDiabetisTipus2,this.subformData.grupriscEPOC=-1!==a&&this.vacuna.grupriscEPOC,this.subformData.grupriscCancer=-1!==a&&this.vacuna.grupriscCancer,this.subformData.grupriscTrasplOrganSolid=-1!==a&&this.vacuna.grupriscTrasplOrganSolid,this.subformData.grupriscMalaltiaRenalCronica=-1!==a&&this.vacuna.grupriscMalaltiaRenalCronica,this.subformData.grupriscObsesitat=-1!==a&&this.vacuna.grupriscObsesitat,this.subformData.grupriscHTA=-1!==a&&this.vacuna.grupriscHTA,this.subformData.grupriscDiabetisTipus1=-1!==a&&this.vacuna.grupriscDiabetisTipus1,this.subformData.grupriscAsma=-1!==a&&this.vacuna.grupriscAsma,this.subformData.grupriscImmunosup=-1!==a&&this.vacuna.grupriscImmunosup,this.subformData.grupriscEmbaras=-1!==a&&this.vacuna.grupriscEmbaras,this.subformData.grupriscTrastNeuroPsiq=-1!==a&&this.vacuna.grupriscTrastNeuroPsiq,this.subformData.grupriscMalaltiaHapatoCron=-1!==a&&this.vacuna.grupriscMalaltiaHapatoCron,this.subformData.grupriscTrastMetabolCongen=-1!==a&&this.vacuna.grupriscTrastMetabolCongen)}};var ra=t(4260),la=t(151),ca=t(5589),na=t(2025),ma=t(8240),ua=t(5869),da=t(4842),pa=t(1143),fa=t(5735),ha=t(9367),ba=t(677),va=t(7518),Da=t.n(va);const ga=(0,ra.Z)(sa,[["render",ta]]),xa=ga;Da()(sa,"components",{QCard:la.Z,QCardSection:ca.Z,QSpace:na.Z,QBtn:ma.Z,QSeparator:ua.Z,QInput:da.Z,QSelect:pa.Z,QCheckbox:fa.Z,QCardActions:ha.Z}),Da()(sa,"directives",{ClosePopup:ba.Z})},5139:(a,i,t)=>{t.r(i),t.d(i,{default:()=>Qa});var e=t(3673),o=t(2323),s=t(8880);const r={key:0,class:"flex flex-center q-pt-xl"},l={key:0,class:"text-center"},c=(0,e._)("br",null,null,-1),n=(0,e._)("br",null,null,-1),m=(0,e._)("br",null,null,-1),u={href:"/"},d={key:1,class:"text-center"},p=(0,e._)("br",null,null,-1),f={key:1,class:"q-pa-md"},h={class:"row full-width items-start"},b={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},v={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs"},D={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},g={class:"row full-width items-start q-pa-none q-ma-none"},x={class:"col-xs-12 col-sm-6 col-md-6"},w={class:"col-xs-12 col-sm-6 col-md-6"},V={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs"},C={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},q={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},E={class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs q-pb-md"},P={key:0,class:"col-xs-12 col-sm-6 col-md-6 q-pa-xs"},k=(0,e._)("div",{class:"col-2 q-table__title"},"Llistat de fàrmacs",-1),_=(0,e.Uk)(" Afegir nou fàrmac "),y={key:0},A={key:1},$={class:"text-left",style:{"max-width":"60vh"}},I=(0,e._)("br",null,null,-1),S={key:0},H=(0,e._)("br",null,null,-1),U={key:1},O={key:2},N=(0,e._)("br",null,null,-1),W={key:3},T={key:4},M={key:5},z={key:6},R={key:7},F={key:8},Z={key:9},Q={key:10},L={key:11},G={key:12},j={key:13},B={key:14},J={key:15},Y=(0,e.Uk)(" Grups de risc: "),K={key:16},X=(0,e._)("br",null,null,-1),aa=(0,e._)("br",null,null,-1),ia=(0,e._)("br",null,null,-1),ta=(0,e._)("div",{class:"col-2 q-table__title"},"Llistat de reaccions",-1),ea=(0,e.Uk)(" Afegir nova reacció "),oa={class:"q-pa-md",style:{"max-width":"100%"}},sa=(0,e.Uk)(" Introdueix les dades del pacient "),ra=(0,e.Uk)(" Introdueix les dades dels fàrmacs. Afegeix tants registres com medicaments pren el pacient. "),la=(0,e.Uk)(" Introdueix les dades de les reaccions. Afegeix un registre per cada diagnòstic, símptoma o signe clínic. "),ca=(0,e.Uk)(" Introdueix les observacions addicionals. Antecedents d'interès, resultats d'exploracions complementàries, tractament de la reacció adversa i altres dades que ajudin a definir el quadre clínic. "),na=(0,e.Uk)(" Introdueix les teves dades com a notificador ");function ma(a,i,t,ma,ua,da){const pa=(0,e.up)("q-icon"),fa=(0,e.up)("q-spinner-gears"),ha=(0,e.up)("q-input"),ba=(0,e.up)("q-select"),va=(0,e.up)("q-step"),Da=(0,e.up)("q-tooltip"),ga=(0,e.up)("q-btn"),xa=(0,e.up)("q-th"),wa=(0,e.up)("q-tr"),Va=(0,e.up)("q-td"),Ca=(0,e.up)("q-table"),qa=(0,e.up)("notificador-form"),Ea=(0,e.up)("q-stepper-navigation"),Pa=(0,e.up)("q-banner"),ka=(0,e.up)("q-stepper"),_a=(0,e.up)("medicament-form"),ya=(0,e.up)("q-dialog"),Aa=(0,e.up)("reaccio-form");return ma.finalitzada?((0,e.wg)(),(0,e.iD)("div",r,[ma.enviada?((0,e.wg)(),(0,e.iD)("div",l,[(0,e.Uk)((0,o.zw)(a.$t("lblNotiRebuda"))+".",1),c,(0,e.Uk)(" "+(0,o.zw)(a.$t("lblIdentEs"))+" "+(0,o.zw)(ma.nnoti)+".",1),n,(0,e.Wm)(pa,{name:"check_circle",color:"green-10",size:"8em"}),m,(0,e.Uk)(" "+(0,o.zw)(a.$t("lblTornaA"))+" ",1),(0,e._)("a",u,(0,o.zw)(a.$t("lblInici")),1)])):((0,e.wg)(),(0,e.iD)("div",d,[(0,e.Uk)((0,o.zw)(a.$t("headEnviantNoti")),1),p,(0,e.Wm)(fa,{color:"primary",size:"8em"})]))])):((0,e.wg)(),(0,e.iD)("div",f,[(0,e.Wm)(ka,{modelValue:ma.step,"onUpdate:modelValue":i[15]||(i[15]=a=>ma.step=a),ref:"stepper",color:"primary","header-nav":"","active-color":"secondary",animated:"",contracted:a.$q.screen.lt.md},{navigation:(0,e.w5)((()=>[(0,e.Wm)(Ea,null,{default:(0,e.w5)((()=>[ma.step>1?((0,e.wg)(),(0,e.j4)(ga,{key:0,flat:"",color:"primary",onClick:i[12]||(i[12]=a=>da.navega(ma.step,!1)),label:"Enrere",class:"q-ml-sm"})):(0,e.kq)("",!0),ma.step<5?((0,e.wg)(),(0,e.j4)(ga,{key:1,onClick:i[13]||(i[13]=a=>da.navega(ma.step,!0)),color:"primary",label:"Continua"})):(0,e.kq)("",!0),5===ma.step?((0,e.wg)(),(0,e.j4)(ga,{key:2,onClick:i[14]||(i[14]=a=>da.finalitza()),color:"primary",label:"Enviar"})):(0,e.kq)("",!0)])),_:1})])),message:(0,e.w5)((()=>[1===ma.step?((0,e.wg)(),(0,e.j4)(Pa,{key:0,class:"bg-secondary text-white q-px-lg"},{default:(0,e.w5)((()=>[sa])),_:1})):2===ma.step?((0,e.wg)(),(0,e.j4)(Pa,{key:1,class:"bg-secondary text-white q-px-lg"},{default:(0,e.w5)((()=>[ra])),_:1})):3===ma.step?((0,e.wg)(),(0,e.j4)(Pa,{key:2,class:"bg-secondary text-white q-px-lg"},{default:(0,e.w5)((()=>[la])),_:1})):4===ma.step?((0,e.wg)(),(0,e.j4)(Pa,{key:3,class:"bg-secondary text-white q-px-lg"},{default:(0,e.w5)((()=>[ca])),_:1})):((0,e.wg)(),(0,e.j4)(Pa,{key:4,class:"bg-secondary text-white q-px-lg"},{default:(0,e.w5)((()=>[na])),_:1}))])),default:(0,e.w5)((()=>[(0,e.Wm)(va,{name:1,title:a.$t("lblPacient"),icon:"sick",color:ma.step1Complet?"green-10":"primary",done:ma.step1Complet,style:{"min-height":"200px"}},{default:(0,e.w5)((()=>[(0,e._)("div",h,[(0,e._)("div",b,[(0,e.Wm)(ha,{outlined:"",dense:"",modelValue:ma.notificacio.pacient.nomPacient,"onUpdate:modelValue":i[0]||(i[0]=a=>ma.notificacio.pacient.nomPacient=a),label:a.$t("lblNomPacient"),hint:a.$t("lblHintNomPacient"),"bottom-slots":"","error-message":a.$t("errorNomPacient"),error:ma.errorNomPacient},null,8,["modelValue","label","hint","error-message","error"])]),(0,e._)("div",v,[(0,e.Wm)(ba,{outlined:"",modelValue:ma.notificacio.pacient.sexe,"onUpdate:modelValue":i[1]||(i[1]=a=>ma.notificacio.pacient.sexe=a),label:a.$t("lblSexePacient"),options:a.options.sexe,dense:"","options-dense":""},null,8,["modelValue","label","options"])]),(0,e._)("div",D,[(0,e._)("div",g,[(0,e._)("div",x,[(0,e.Wm)(ha,{outlined:"",dense:"",type:"number",modelValue:ma.notificacio.pacient.edat,"onUpdate:modelValue":i[2]||(i[2]=a=>ma.notificacio.pacient.edat=a),modelModifiers:{number:!0},step:"1",label:a.$t("lblEdatPacient"),hint:a.$t("lblHintEdatPacient"),"bottom-slots":"","error-message":a.$t("errorEdatPacient"),error:ma.errorEdat},null,8,["modelValue","label","hint","error-message","error"])]),(0,e._)("div",w,[(0,e.Wm)(ba,{outlined:"",modelValue:ma.notificacio.pacient.uniEdat,"onUpdate:modelValue":i[3]||(i[3]=a=>ma.notificacio.pacient.uniEdat=a),label:a.$t("lblUnitEdatPacient"),options:a.options.unitatTemps,dense:"","options-dense":"","bottom-slots":"","error-message":a.$t("errorUnitEdatPacient"),error:ma.errorUniEdat},null,8,["modelValue","label","options","error-message","error"])])])]),(0,e._)("div",V,[(0,e.Wm)(ba,{outlined:"",modelValue:ma.notificacio.pacient.grupEdat,"onUpdate:modelValue":i[4]||(i[4]=a=>ma.notificacio.pacient.grupEdat=a),label:a.$t("lblGrupEdatPacient"),options:a.options.grupEdat,dense:"","options-dense":"","bottom-slots":"","error-message":a.$t("errorGrupEdatPacient"),error:ma.errorGrupEdat},null,8,["modelValue","label","options","error-message","error"])]),(0,e._)("div",C,[(0,e.Wm)(ha,{outlined:"",dense:"",type:"number",modelValue:ma.notificacio.pacient.pes,"onUpdate:modelValue":i[5]||(i[5]=a=>ma.notificacio.pacient.pes=a),modelModifiers:{number:!0},label:a.$t("lblPesPacient")},null,8,["modelValue","label"])]),(0,e._)("div",q,[(0,e.Wm)(ha,{outlined:"",dense:"",modelValue:ma.notificacio.pacient.nhc,"onUpdate:modelValue":i[6]||(i[6]=a=>ma.notificacio.pacient.nhc=a),label:a.$t("lblCipPacient")},null,8,["modelValue","label"])]),(0,e._)("div",E,[(0,e.Wm)(ba,{outlined:"",modelValue:ma.notificacio.pacient.atencio,"onUpdate:modelValue":i[7]||(i[7]=a=>ma.notificacio.pacient.atencio=a),label:a.$t("lblAtencioPacient"),options:a.options.siNo,dense:"","options-dense":""},null,8,["modelValue","label","options"])]),ma.notificacio.pacient.atencio&&3===ma.notificacio.pacient.atencio.value?((0,e.wg)(),(0,e.iD)("div",P,[(0,e.Wm)(ba,{outlined:"",modelValue:ma.notificacio.pacient.ramMotiva,"onUpdate:modelValue":i[8]||(i[8]=a=>ma.notificacio.pacient.ramMotiva=a),label:a.$t("lblRAMotivaPacient"),options:a.options.ramMotiva,dense:"","options-dense":"","bottom-slots":"","error-message":a.$t("errorOpcioInvalida"),error:ma.errorRAMotiva},null,8,["modelValue","label","options","error-message","error"])])):(0,e.kq)("",!0)])])),_:1},8,["title","color","done"]),(0,e.Wm)(va,{name:2,title:"Fàrmacs",icon:"medication",color:ma.step2Complet?"green-10":"primary",done:ma.step2Complet,style:{"min-height":"200px"}},{default:(0,e.w5)((()=>[(0,e.Wm)(Ca,{title:"Farmacs",rows:ma.notificacio.farmacs,columns:da.columnsFarmacs,pagination:ma.pagination,"row-key":"indexFarmac","hide-bottom":""},{top:(0,e.w5)((()=>[k,(0,e.Wm)(ga,{round:"",icon:"add",color:"primary",onClick:i[9]||(i[9]=a=>da.nouFarmac()),ripple:{center:!0}},{default:(0,e.w5)((()=>[(0,e.Wm)(Da,{class:"bg-amber-2 text-black text-body2 shadow-4",anchor:"center right",self:"center left",offset:[1,1]},{default:(0,e.w5)((()=>[_])),_:1})])),_:1})])),header:(0,e.w5)((a=>[(0,e.Wm)(wa,{props:a},{default:(0,e.w5)((()=>[(0,e.Wm)(xa,{"auto-width":""}),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(a.cols,(i=>((0,e.wg)(),(0,e.j4)(xa,{key:i.name,props:a},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(i.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,e.w5)((i=>[(0,e.Wm)(wa,{props:i},{default:(0,e.w5)((()=>[(0,e.Wm)(Va,{"auto-width":""},{default:(0,e.w5)((()=>[(0,e.Wm)(ga,{size:"sm",color:"primary",round:"",dense:"",onClick:a=>i.expand=!i.expand,icon:i.expand?"close_fullscreen":"open_in_full"},{default:(0,e.w5)((()=>[(0,e.Wm)(Da,{class:"bg-amber-2 text-black text-body2 shadow-4",anchor:"top end",self:"bottom left",offset:[1,1]},{default:(0,e.w5)((()=>[i.expand?((0,e.wg)(),(0,e.iD)("span",y,(0,o.zw)(a.$t("contraurefarmac")),1)):((0,e.wg)(),(0,e.iD)("span",A,(0,o.zw)(a.$t("expandirfarmac")),1))])),_:2},1024)])),_:2},1032,["onClick","icon"])])),_:2},1024),(0,e.Wm)(Va,{key:"farmac",props:i,onClick:a=>da.editarFarmac(i.row),class:"cursor-pointer"},{default:(0,e.w5)((()=>[(0,e.Wm)(pa,{name:"edit"}),(0,e.Uk)(" "+(0,o.zw)(i.row.farmac),1)])),_:2},1032,["props","onClick"]),(0,e.Wm)(Va,{key:"dataInici",props:i,onClick:a=>da.editarFarmac(i.row),class:"cursor-pointer"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(i.row.dataInici),1)])),_:2},1032,["props","onClick"]),(0,e.Wm)(Va,{key:"dataFinal",props:i,onClick:a=>da.editarFarmac(i.row),class:"cursor-pointer"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(i.row.dataFinal),1)])),_:2},1032,["props","onClick"]),(0,e.Wm)(Va,{key:"x",props:i},{default:(0,e.w5)((()=>[(0,e.Wm)(ga,{flat:"",dense:"",color:"primary",icon:"delete",onClick:a=>da.eliminaFarmac(i.row)},{default:(0,e.w5)((()=>[(0,e.Wm)(Da,{class:"bg-negative text-white text-body2 shadow-4",anchor:"center left",self:"center right"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(a.$t("eliminar")),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"]),(0,e.wy)((0,e.Wm)(wa,{props:i},{default:(0,e.w5)((()=>[(0,e.Wm)(Va,{colspan:"100%"},{default:(0,e.w5)((()=>[(0,e._)("div",$,[(0,e.Uk)((0,o.zw)(a.$t("numeroLot"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.numeroLotDesconegut?a.$t("numeroLotDesconegut"):i.row.numeroLot),1),I,(0,e.Uk)(" "+(0,o.zw)(a.$t("vacunaSN"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.vacunaSN.label),1),3===i.row.vacunaSN.value?((0,e.wg)(),(0,e.iD)("span",S,[(0,e.Uk)(" — "+(0,o.zw)(a.$t("dataVacunacio"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.dataVacunacio),1),(0,e.Uk)(" — "+(0,o.zw)(a.$t("llocAdmin"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.llocAdmin),1),H,(0,e.Uk)(" "+(0,o.zw)(a.$t("vacunaNDosi"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.vacunaNDosi.label),1)])):(0,e.kq)("",!0),i.row.vacunaNDosi.value>2?((0,e.wg)(),(0,e.iD)("span",U,[(0,e.Uk)(" — "+(0,o.zw)(a.$t("notiRADosiPrev"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.notiRADosiPrev.label),1)])):(0,e.kq)("",!0),3===i.row.notiRADosiPrev.value?((0,e.wg)(),(0,e.iD)("span",O,[(0,e.Uk)(" — "+(0,o.zw)(a.$t("notiRADosiPrevEspecif"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.notiRADosiPrevEspecif),1)])):(0,e.kq)("",!0),N,3===i.row.vacunaSN.value?((0,e.wg)(),(0,e.iD)("span",W,[(0,e.Uk)((0,o.zw)(a.$t("vacunaCOVIDSN"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.vacunaCOVIDSN.label),1)])):(0,e.kq)("",!0),3===i.row.vacunaSN.value?((0,e.wg)(),(0,e.iD)("br",T)):(0,e.kq)("",!0),3===i.row.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("span",M,[(0,e.Uk)((0,o.zw)(a.$t("vacuna"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.vacuna.label),1)])):(0,e.kq)("",!0),10===i.row.vacuna.value?((0,e.wg)(),(0,e.iD)("span",z,[(0,e.Uk)(" — "+(0,o.zw)(a.$t("vacunaEspecif"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.vacunaEspecif),1)])):(0,e.kq)("",!0),3===i.row.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("br",R)):(0,e.kq)("",!0),3===i.row.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("span",F,[(0,e.Uk)((0,o.zw)(a.$t("pacientHaPatitCOVID"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.pacientHaPatitCOVID.label),1)])):(0,e.kq)("",!0),3===i.row.pacientHaPatitCOVID.value?((0,e.wg)(),(0,e.iD)("span",Z,[(0,e.Uk)(" — "+(0,o.zw)(a.$t("existeixProvaPositiva"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.existeixProvaPositiva.label),1)])):(0,e.kq)("",!0),3===i.row.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("br",Q)):(0,e.kq)("",!0),3===i.row.pacientHaPatitCOVID.value?((0,e.wg)(),(0,e.iD)("span",L,[(0,e.Uk)((0,o.zw)(a.$t("covidAsimptomatic"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.covidAsimptomatic?"Sí":"No"),1),(0,e.Uk)(" — "+(0,o.zw)(a.$t("covidSimptomatic"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.covidSimptomatic?"Sí":"No"),1),(0,e.Uk)(" — "+(0,o.zw)(a.$t("covidSimptomaticIH"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.covidSimptomaticIH?"Sí":"No"),1)])):(0,e.kq)("",!0),3===i.row.pacientHaPatitCOVID.value?((0,e.wg)(),(0,e.iD)("br",G)):(0,e.kq)("",!0),3===i.row.pacientHaPatitCOVID.value?((0,e.wg)(),(0,e.iD)("span",j,[(0,e.Uk)((0,o.zw)(a.$t("pacientHaPatitCOVIDEspecif"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.pacientHaPatitCOVIDEspecif),1)])):(0,e.kq)("",!0),3===i.row.pacientHaPatitCOVID.value?((0,e.wg)(),(0,e.iD)("br",B)):(0,e.kq)("",!0),3===i.row.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("span",J,[Y,(0,e._)("strong",null,(0,o.zw)(i.row.grupriscMajor65Anys?"— "+a.$t("grupriscMajor65Anys"):"")+" "+(0,o.zw)(i.row.grupriscProfSanitari?"— "+a.$t("grupriscProfSanitari"):"")+" "+(0,o.zw)(i.row.grupriscMalaltiaCardioVascular?"— "+a.$t("grupriscMalaltiaCardioVascular"):"")+" "+(0,o.zw)(i.row.grupriscDiabetisTipus2?"— "+a.$t("grupriscDiabetisTipus2"):"")+" "+(0,o.zw)(i.row.grupriscEPOC?"— "+a.$t("grupriscEPOC"):"")+" "+(0,o.zw)(i.row.grupriscCancer?"— "+a.$t("grupriscCancer"):"")+" "+(0,o.zw)(i.row.grupriscTrasplOrganSolid?"— "+a.$t("grupriscTrasplOrganSolid"):"")+" "+(0,o.zw)(i.row.grupriscMalaltiaRenalCronica?"— "+a.$t("grupriscMalaltiaRenalCronica"):"")+" "+(0,o.zw)(i.row.grupriscObsesitat?"— "+a.$t("grupriscObsesitat"):"")+" "+(0,o.zw)(i.row.grupriscHTA?"— "+a.$t("grupriscHTA"):"")+" "+(0,o.zw)(i.row.grupriscDiabetisTipus1?"— "+a.$t("grupriscDiabetisTipus1"):"")+" "+(0,o.zw)(i.row.grupriscAsma?"— "+a.$t("grupriscAsma"):"")+" "+(0,o.zw)(i.row.grupriscImmunosup?"— "+a.$t("grupriscImmunosup"):"")+" "+(0,o.zw)(i.row.grupriscEmbaras?"— "+a.$t("grupriscEmbaras"):"")+" "+(0,o.zw)(i.row.grupriscTrastNeuroPsiq?"— "+a.$t("grupriscTrastNeuroPsiq"):"")+" "+(0,o.zw)(i.row.grupriscMalaltiaHapatoCron?"— "+a.$t("grupriscMalaltiaHapatoCron"):"")+" "+(0,o.zw)(i.row.grupriscTrastMetabolCongen?"— "+a.$t("grupriscTrastMetabolCongen"):""),1)])):(0,e.kq)("",!0),3===i.row.vacunaCOVIDSN.value?((0,e.wg)(),(0,e.iD)("br",K)):(0,e.kq)("",!0),(0,e.Uk)(" "+(0,o.zw)(a.$t("sospitaRAM"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.sospitaRAM.label),1),X,(0,e.Uk)(" "+(0,o.zw)(a.$t("dosi"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.dosi),1),(0,e.Uk)(" — "+(0,o.zw)(a.$t("viaAdmin"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.viaAdmin.label),1),aa,(0,e.Uk)(" "+(0,o.zw)(a.$t("dataInici"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.dataInici),1),(0,e.Uk)(" — "+(0,o.zw)(a.$t("dataFinal"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.dataFinal),1),ia,(0,e.Uk)(" "+(0,o.zw)(a.$t("prescripcio"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.prescripcio),1),(0,e.Uk)(" — "+(0,o.zw)(a.$t("mesuraPresa"))+": ",1),(0,e._)("strong",null,(0,o.zw)(i.row.mesuraPresa.label),1)])])),_:2},1024)])),_:2},1032,["props"]),[[s.F8,i.expand]])])),_:1},8,["rows","columns","pagination"])])),_:1},8,["color","done"]),(0,e.Wm)(va,{name:3,title:"Reaccions",icon:"assistant_photo",color:ma.step3Complet?"green-10":"primary",done:ma.step3Complet,style:{"min-height":"200px"}},{default:(0,e.w5)((()=>[(0,e.Wm)(Ca,{title:"Reaccions",rows:ma.notificacio.reaccions,columns:da.columnsReaccions,pagination:ma.pagination,"row-key":"indexReaccio","hide-bottom":""},{top:(0,e.w5)((()=>[ta,(0,e.Wm)(ga,{round:"",icon:"add",color:"primary",onClick:i[10]||(i[10]=a=>da.novaReaccio()),ripple:{center:!0}},{default:(0,e.w5)((()=>[(0,e.Wm)(Da,{class:"bg-amber-2 text-black text-body2 shadow-4",anchor:"center right",self:"center left",offset:[1,1]},{default:(0,e.w5)((()=>[ea])),_:1})])),_:1})])),body:(0,e.w5)((i=>[(0,e.Wm)(wa,{props:i},{default:(0,e.w5)((()=>[(0,e.Wm)(Va,{key:"reaccio",props:i,onClick:a=>da.editarReaccio(i.row),class:"cursor-pointer"},{default:(0,e.w5)((()=>[(0,e.Wm)(pa,{name:"edit"}),(0,e.Uk)(" "+(0,o.zw)(i.row.reaccio),1)])),_:2},1032,["props","onClick"]),(0,e.Wm)(Va,{key:"dataInici",props:i,onClick:a=>da.editarReaccio(i.row),class:"cursor-pointer"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(i.row.dataInici),1)])),_:2},1032,["props","onClick"]),(0,e.Wm)(Va,{key:"dataFinal",props:i,onClick:a=>da.editarReaccio(i.row),class:"cursor-pointer"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(i.row.dataFinal),1)])),_:2},1032,["props","onClick"]),(0,e.Wm)(Va,{key:"desen",props:i,onClick:a=>da.editarReaccio(i.row),class:"cursor-pointer"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(i.row.desen.label),1)])),_:2},1032,["props","onClick"]),(0,e.Wm)(Va,{key:"x",props:i},{default:(0,e.w5)((()=>[(0,e.Wm)(ga,{flat:"",dense:"",color:"primary",icon:"delete",onClick:a=>da.eliminaReaccio(i.row)},{default:(0,e.w5)((()=>[(0,e.Wm)(Da,{class:"bg-negative text-white text-body2 shadow-4",anchor:"center left",self:"center right"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(a.$t("eliminar")),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"])])),_:1},8,["color","done"]),(0,e.Wm)(va,{name:4,title:"Observacions",icon:"notes",color:ma.step4Complet?"green-10":"primary",done:ma.step4Complet,style:{"min-height":"200px"}},{default:(0,e.w5)((()=>[(0,e._)("div",oa,[(0,e.Wm)(ha,{color:"primary",modelValue:ma.notificacio.observacions,"onUpdate:modelValue":i[11]||(i[11]=a=>ma.notificacio.observacions=a),"clear-icon":"close",label:"Observacions",counter:"",maxlength:"7000",outlined:"",autogrow:""},null,8,["modelValue"])])])),_:1},8,["color","done"]),(0,e.Wm)(va,{name:5,title:"Notificador",icon:"person",color:ma.step5Complet?"green-10":"primary",done:ma.step5Complet,style:{"min-height":"200px"}},{default:(0,e.w5)((()=>[(0,e.Wm)(qa,{ref:"compnotificador",notificador:ma.notificacio.notificador},null,8,["notificador"])])),_:1},8,["color","done"])])),_:1},8,["modelValue","contracted"]),(0,e.Wm)(ya,{modelValue:ma.mostraMedicamentForm,"onUpdate:modelValue":i[16]||(i[16]=a=>ma.mostraMedicamentForm=a)},{default:(0,e.w5)((()=>[(0,e.Wm)(_a,{onClose:da.actualitzarFarmac,medicament:ma.medicament},null,8,["onClose","medicament"])])),_:1},8,["modelValue"]),(0,e.Wm)(ya,{modelValue:ma.mostraReaccioForm,"onUpdate:modelValue":i[17]||(i[17]=a=>ma.mostraReaccioForm=a)},{default:(0,e.w5)((()=>[(0,e.Wm)(Aa,{onClose:da.actualitzarReaccio,reaccio:ma.reaccio},null,8,["onClose","reaccio"])])),_:1},8,["modelValue"])]))}var ua=t(1959),da=t(741),pa=t(5474),fa=t(6417);const ha=(0,ua.iH)(0),ba=(0,ua.iH)(0),va=(0,ua.iH)(""),Da=(0,ua.iH)([]),ga=(0,ua.iH)({}),xa=(0,ua.iH)({}),wa=(0,ua.iH)(!1),Va=(0,ua.iH)(!1),Ca=(0,ua.iH)(0),qa=(0,ua.iH)({pacient:{nomPacient:"",sexe:{value:1,label:"-"},edat:"",uniEdat:{value:1,label:"-"},grupEdat:{value:1,label:"-"},pes:"",nhc:"",atencio:{value:1,label:"-"},ramMotiva:{value:1,label:"-"}},farmacs:[],reaccions:[],notificador:{professio:{value:1,label:"-"},altraProfessio:"",nomEmisor:"",cognomsEmisor:"",adreca:"",nomPoblacio:"",provincia:{value:1,label:"-"},centreTreball:"",telefon:"",email:""},observacions:""}),Ea={name:"NotiFormPage",computed:{...(0,da.rn)("optionstore",["options"]),columnsFarmacs(){const a=[{name:"farmac",required:!0,label:"Fàrmac",align:"left",field:a=>a.name,format:a=>`${a}`,sortable:!0},{name:"dataInici",label:"Data inici",field:"dataInici",sortable:!1},{name:"dataFinal",label:"Data final",field:"dataFinal",sortable:!1},{name:"x",label:this.$t("eliminar"),field:null,sortable:!1}];return a},columnsReaccions(){const a=[{name:"reaccio",required:!0,label:"Descripció",align:"left",field:a=>a.name,format:a=>`${a}`,sortable:!0},{name:"dataInici",label:"Data inici",field:"dataInici",sortable:!1},{name:"dataFinal",label:"Data final",field:"dataFinal",sortable:!1},{name:"desen",label:"Desenllaç",field:"desen",sortable:!0},{name:"x",label:this.$t("eliminar"),field:null,sortable:!1}];return a}},methods:{...(0,da.nv)("optionstore",["fetchOptions"]),isInt(a){return!isNaN(a)&&function(a){return(0|a)===a}(parseFloat(a))},navega(a,i){let t=!1,e="Manquen dades necessàries";1===a?t=this.validaStep1():2===a?(t=this.validaStep2(),e="Hi ha errors",e="Cal com a mínim un fàrmac"):3===a?(t=this.validaStep3(),e="Cal com a mínim una reacció"):4===a?this.step4Complet=!0:5===a&&(t=this.validaStep5()),t?this.$q.dialog({title:e,message:"Si deixes aquesta secció, hi hauràs de tornar per afegir les dades que manquen. Vols afegir aquestes dades ara?",ok:{label:"Sí",color:"primary"},cancel:{label:"No",color:"negative"},persistent:!0}).onCancel((()=>{i?this.$refs.stepper.next():this.$refs.stepper.previous()})):i?this.$refs.stepper.next():this.$refs.stepper.previous()},nouFarmac(){this.medicament={indexFarmac:-1},this.mostraMedicamentForm=!0},editarFarmac(a){this.medicament=a,this.mostraMedicamentForm=!0},eliminaFarmac(a){this.$q.dialog({title:"Confirmar",message:"¿Eliminar el fàrmac "+a.farmac+"?",ok:{label:"Eliminar",color:"negative"},cancel:{label:"Cancel·lar",color:"primary"},persistent:!0}).onOk((()=>{this.notificacio.farmacs=this.notificacio.farmacs.filter((i=>i.indexFarmac!==a.indexFarmac))}))},actualitzarFarmac(a){const i=this.notificacio.farmacs.findIndex((i=>i.indexFarmac===a.indexFarmac));a.farmac&&a.farmac.label&&(a.farmac=a.farmac.label),-1===i?(this.indexFarmac=this.indexFarmac+1,a.indexFarmac=this.indexFarmac,this.notificacio.farmacs.push(a)):this.notificacio.farmacs[i]=a,this.mostraMedicamentForm=!1},novaReaccio(){this.reaccio={indexReaccio:-1,reaccio:"Nova reacció "+this.indexReaccio,dataInici:"",dataFinal:"",desen:{value:1,label:"-"}},this.mostraReaccioForm=!0},editarReaccio(a){this.reaccio=a,this.mostraReaccioForm=!0},eliminaReaccio(a){this.$q.dialog({title:"Confirmar",message:"¿Eliminar la reacció "+a.reaccio+"?",ok:{label:"Eliminar",color:"negative"},cancel:{label:"Cancel·lar",color:"primary"},persistent:!0}).onOk((()=>{this.notificacio.reaccions=this.notificacio.reaccions.filter((i=>i.indexReaccio!==a.indexReaccio))}))},actualitzarReaccio(a){const i=this.notificacio.reaccions.findIndex((i=>i.indexReaccio===a.indexReaccio));-1===i?(this.indexReaccio=this.indexReaccio+1,a.indexReaccio=this.indexReaccio,this.notificacio.reaccions.push(a)):this.notificacio.reaccions[i]=a,this.mostraReaccioForm=!1},filtraCentre(a,i,t){i((()=>{if(0===a.length||a.length<2)return this.centres=[],void t();const i=a.toLowerCase();pa.api.get("/centres?term="+i).then((a=>{0===a.data.error&&(this.centres=a.data.centres)})).catch((a=>{console.log(a),fa.Z.create({message:a.message})}))}))},estableixGrupEdat(){if(!this.errorEdat&&!this.errorUniEdat){const a=this.notificacio.pacient.edat,i=this.notificacio.pacient.uniEdat.value;this.notificacio.pacient.grupEdat=a>=0&&a<=27&&6===i?this.options.grupEdat[2]:a>=1&&a<=23&&4===i?this.options.grupEdat[3]:a>=2&&a<=11&&3===i?this.options.grupEdat[4]:a>=12&&a<=17&&3===i?this.options.grupEdat[5]:a>=18&&a<=65&&3===i?this.options.grupEdat[6]:a>65&&3===i?this.options.grupEdat[7]:""===a?this.options.grupEdat[0]:this.options.grupEdat[8]}},validaNomPacient(a){const i=null===this.notificacio.pacient.nomPacient||""===this.notificacio.pacient.nomPacient;this.errorNomPacient=i},validaEdat(a){const i=""===a,t=!i&&this.isInt(a);this.errorEdat=!i&&!t||i&&this.notificacio.pacient.uniEdat.value>1,this.errorUniEdat=t&&1===this.notificacio.pacient.uniEdat.value,this.errorGrupEdat=i&&1===this.notificacio.pacient.grupEdat.value,this.estableixGrupEdat()},validaUniEdat(a){const i=null!==this.notificacio.pacient.edat&&this.isInt(this.notificacio.pacient.edat);this.errorUniEdat=1===a.value&&i,this.errorEdat=a.value>1&&!i,this.estableixGrupEdat()},validaGrupEdat(a){const i=null!==this.notificacio.pacient.edat&&this.isInt(this.notificacio.pacient.edat);this.errorGrupEdat=void 0===a||1===a.value&&!i},validaAtencio(a){3!==a.value?this.notificacio.pacient.ramMotiva={value:1,label:"-"}:3===a.value&&(1===this.notificacio.pacient.ramMotiva.value?this.errorRAMotiva=!0:this.errorRAMotiva=!1)},validaRamMotiva(a){1===a.value&&3===this.notificacio.pacient.atencio.value?this.errorRAMotiva=!0:this.errorRAMotiva=!1},validaProfessio(a){1===a.value?this.errorProfessio=!0:(this.errorProfessio=!1,8!==a.value&&(this.notificacio.notificador.altraProfessio="")),this.step5Complet=!1},validaNomEmisor(a){const i=null===this.notificacio.notificador.nomEmisor||""===this.notificacio.notificador.nomEmisor;this.errorNomEmisor=i},validaCognomsEmisor(a){const i=null===this.notificacio.notificador.cognomsEmisor||""===this.notificacio.notificador.cognomsEmisor;this.errorCognomsEmisor=i},validaCentreTreball(a){const i="object"===typeof a&&null!==a||"string"===typeof a&&""!==a;this.errorCentreTreball=!i},validaEmail(a,i){i?this.errorVerificaEmail=a!==this.notificacio.notificador.email:this.errorEmail=!a||a.length<6||!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},validaStep1(){return this.validaNomPacient(this.notificacio.pacient.nomPacient),this.validaEdat(this.notificacio.pacient.edat),this.validaUniEdat(this.notificacio.pacient.uniEdat),this.validaGrupEdat(this.notificacio.pacient.grupEdat),this.validaAtencio(this.notificacio.pacient.atencio),this.validaRamMotiva(this.notificacio.pacient.ramMotiva),this.step1Complet=!(this.errorNomPacient||this.errorEdat||this.errorUniEdat||this.errorGrupEdat||this.errorRAMotiva),this.errorNomPacient||this.errorEdat||this.errorUniEdat||this.errorGrupEdat||this.errorRAMotiva},validaStep2(){return this.step2Complet=!(0===this.notificacio.farmacs.length),0===this.notificacio.farmacs.length},validaStep3(){return this.step3Complet=!(0===this.notificacio.reaccions.length),0===this.notificacio.reaccions.length},validaStep5(){return this.step5Complet=!this.$refs.compnotificador.validaNotificador(),!this.step5Complet},finalitza(){if(console.log("emisor",qa.value.notificador),this.finalitzada)fa.Z.create({color:"negative",icon:"warning",message:"Aquesta notificació ja ha estat finalitzada i enviada"});else{let a="Notificació incompleta:";if(this.validaStep1()&&(a+="<br>· completa les dades de pacient"),this.validaStep2()&&(a+="<br>· afegeix almenys un fàrmac"),this.validaStep3()&&(a+="<br>· afegeix almenys una reacció adversa"),this.validaStep5()&&(a+="<br>· completa les dades de notificador"),"Notificació incompleta:"!==a)return void fa.Z.create({color:"negative",icon:"warning",message:a,html:!0});null!==this.notificacio.notificador.centreTreball&&Object.prototype.hasOwnProperty.call(this.notificacio.notificador.centreTreball,"label")&&(this.notificacio.notificador.centreTreball=this.notificacio.notificador.centreTreball.label),this.finalitzada=!0;const i=JSON.stringify(this.notificacio),t=JSON.parse(i),e={headers:{}};console.log(t),pa.api.post("/notifica",t,e).then((a=>{if(0===a.data.error)this.nnoti=a.data.nnoti,this.enviada=!0,console.log(a.data);else{this.finalitzada=!1;let i="";a.data.messages.forEach(((a,t)=>{i=i+(t>0?"\n":"")+a.message})),console.log(a.data),fa.Z.create({color:"negative",icon:"warning",message:i})}})).catch((a=>{console.log(a),this.finalitzada=!1,fa.Z.create({color:"negative",icon:"warning",message:a.message})}))}}},setup(){return{finalitzada:wa,enviada:Va,nnoti:Ca,step:(0,ua.iH)(1),medicament:ga,mostraMedicamentForm:(0,ua.iH)(!1),reaccio:xa,mostraReaccioForm:(0,ua.iH)(!1),notificacio:qa,indexFarmac:ha,indexReaccio:ba,pagination:(0,ua.iH)({rowsPerPage:0}),centres:Da,verificaEmail:va,errorNomPacient:(0,ua.iH)(!1),errorEdat:(0,ua.iH)(!1),errorUniEdat:(0,ua.iH)(!1),errorGrupEdat:(0,ua.iH)(!1),errorRAMotiva:(0,ua.iH)(!1),errorProfessio:(0,ua.iH)(!1),errorNomEmisor:(0,ua.iH)(!1),errorCognomsEmisor:(0,ua.iH)(!1),errorCentreTreball:(0,ua.iH)(!1),errorEmail:(0,ua.iH)(!1),errorVerificaEmail:(0,ua.iH)(!1),step1Complet:(0,ua.iH)(!1),step2Complet:(0,ua.iH)(!1),step3Complet:(0,ua.iH)(!1),step4Complet:(0,ua.iH)(!1),step5Complet:(0,ua.iH)(!1)}},components:{"medicament-form":t(2749).Z,"reaccio-form":t(646).Z,"notificador-form":t(9118).Z},watch:{"notificacio.pacient.nomPacient":{handler(a){this.validaNomPacient(a)}},"notificacio.pacient.edat":{handler(a){this.validaEdat(a)}},"notificacio.pacient.uniEdat":{handler(a){this.validaUniEdat(a)}},"notificacio.pacient.grupEdat":{handler(a){this.validaGrupEdat(a)}},"notificacio.pacient.atencio":{handler(a){this.validaAtencio(a)}},"notificacio.pacient.ramMotiva":{handler(a){this.validaRamMotiva(a)}},"notificacio.notificador.professio":{handler(a){this.validaProfessio(a)}},"notificacio.notificador.nomEmisor":{handler(a){this.validaNomEmisor(a)}},"notificacio.notificador.cognomsEmisor":{handler(a){this.validaCognomsEmisor(a)}},"notificacio.notificador.centreTreball":{handler(a){this.validaCentreTreball(a)}},"notificacio.notificador.email":{handler(a){this.validaEmail(a,!1)}},verificaEmail:{handler(a){this.validaEmail(a,!0)}}},mounted(){this.fetchOptions()}};var Pa=t(4260),ka=t(4554),_a=t(6394),ya=t(3518),Aa=t(4340),$a=t(4842),Ia=t(1143),Sa=t(9267),Ha=t(8240),Ua=t(8870),Oa=t(8186),Na=t(2414),Wa=t(3884),Ta=t(118),Ma=t(5607),za=t(5926),Ra=t(7518),Fa=t.n(Ra);const Za=(0,Pa.Z)(Ea,[["render",ma]]),Qa=Za;Fa()(Ea,"components",{QIcon:ka.Z,QSpinnerGears:_a.Z,QStepper:ya.Z,QStep:Aa.Z,QInput:$a.Z,QSelect:Ia.Z,QTable:Sa.Z,QBtn:Ha.Z,QTooltip:Ua.Z,QTr:Oa.Z,QTh:Na.Z,QTd:Wa.Z,QStepperNavigation:Ta.Z,QBanner:Ma.Z,QDialog:za.Z})}}]);